<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />

    

    
    <title>Let&#39;s configure the environment of Postgresql + TypeORM + Typescript + Graphql | Hexo</title>
    
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    
    <meta name="keywords" content="Typescript,Graphql" />
    
    <meta name="description" content="postgresql + typeORM + typescript + graphql 활용한 Backend 구성하기typescript + graphql.backend 폴더 생성하자.백엔드 서비스를 위한 루트 디렉토리를 만들자. 이름은 ‘backend’ 이다. 1workspace&gt; mkdir backend package.json 파일 생성하자.백엔드 디렉토리">
<meta property="og:type" content="article">
<meta property="og:title" content="Let&#39;s configure the environment of Postgresql + TypeORM + Typescript + Graphql">
<meta property="og:url" content="http://kidongyun.github.io/2020/01/19/2020-1-19-postgresql_typeorm_typescript_graphql/index.html">
<meta property="og:site_name" content="Hexo">
<meta property="og:description" content="postgresql + typeORM + typescript + graphql 활용한 Backend 구성하기typescript + graphql.backend 폴더 생성하자.백엔드 서비스를 위한 루트 디렉토리를 만들자. 이름은 ‘backend’ 이다. 1workspace&gt; mkdir backend package.json 파일 생성하자.백엔드 디렉토리">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="http://kidongyun.github.io/res/2020-1-19-postgresql_typeorm_typescript_graphql/1.png">
<meta property="article:published_time" content="2020-01-19T02:21:54.000Z">
<meta property="article:modified_time" content="2022-05-31T07:12:55.000Z">
<meta property="article:author" content="John Doe">
<meta property="article:tag" content="Typescript">
<meta property="article:tag" content="Graphql">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="http://kidongyun.github.io/res/2020-1-19-postgresql_typeorm_typescript_graphql/1.png">
    

    
        <link rel="alternate" href="/" title="Hexo" type="application/atom+xml" />
    

    

    
<link rel="stylesheet" href="/libs/font-awesome/css/font-awesome.min.css">

    
<link rel="stylesheet" href="/libs/titillium-web/styles.css">

    
<link rel="stylesheet" href="/libs/source-code-pro/styles.css">


    
<link rel="stylesheet" href="/css/style.css">


    
<script src="/libs/jquery/3.5.0/jquery.min.js"></script>

    
    
        
<link rel="stylesheet" href="/libs/lightgallery/css/lightgallery.min.css">

    
    
        
<link rel="stylesheet" href="/libs/justified-gallery/justifiedGallery.min.css">

    
    
    
    


<meta name="generator" content="Hexo 6.1.0"></head>

<body>
    <div id="wrap">
        <header id="header">
    <div id="header-outer" class="outer">
        <div class="container">
            <div class="container-inner">
                <div id="header-title">
                    <h1 class="logo-wrap">
                        <a href="/" class="logo"></a>
                    </h1>
                    
                </div>
                <div id="header-inner" class="nav-container">
                    <a id="main-nav-toggle" class="nav-icon fa fa-bars"></a>
                    <div class="nav-container-inner">
                        <ul id="main-nav">
                            
                                <li class="main-nav-list-item" >
                                    <a class="main-nav-list-link" href="/">Home</a>
                                </li>
                            
                                    <ul class="main-nav-list"><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/Devlog/">Devlog</a></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/Service/">Service</a></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/Todo/">Todo</a></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/Yunhwadngdng/">Yunhwadngdng</a></li></ul>
                                
                                <li class="main-nav-list-item" >
                                    <a class="main-nav-list-link" href="/about/index.html">About</a>
                                </li>
                            
                        </ul>
                        <nav id="sub-nav">
                            <div id="search-form-wrap">

    <form class="search-form">
        <input type="text" class="ins-search-input search-form-input" placeholder="Search" />
        <button type="submit" class="search-form-submit"></button>
    </form>
    <div class="ins-search">
    <div class="ins-search-mask"></div>
    <div class="ins-search-container">
        <div class="ins-input-wrapper">
            <input type="text" class="ins-search-input" placeholder="Type something..." />
            <span class="ins-close ins-selectable"><i class="fa fa-times-circle"></i></span>
        </div>
        <div class="ins-section-wrapper">
            <div class="ins-section-container"></div>
        </div>
    </div>
</div>
<script>
(function (window) {
    var INSIGHT_CONFIG = {
        TRANSLATION: {
            POSTS: 'Posts',
            PAGES: 'Pages',
            CATEGORIES: 'Categories',
            TAGS: 'Tags',
            UNTITLED: '(Untitled)',
        },
        ROOT_URL: '/',
        CONTENT_URL: '/content.json',
    };
    window.INSIGHT_CONFIG = INSIGHT_CONFIG;
})(window);
</script>

<script src="/js/insight.js"></script>


</div>
                        </nav>
                    </div>
                </div>
            </div>
        </div>
    </div>
</header>

        <div class="container">
            <div class="main-body container-inner">
                <div class="main-body-inner">
                    <section id="main">
                        <div class="main-body-header">
    <h1 class="header">
    
    <a class="page-title-link" href="/categories/Devlog/">Devlog</a>
    </h1>
</div>

                        <div class="main-body-content">
                            <article id="post-2020-1-19-postgresql_typeorm_typescript_graphql" class="article article-single article-type-post" itemscope itemprop="blogPost">
    <div class="article-inner">
        
            <header class="article-header">
                
    
        <h1 class="article-title" itemprop="name">
        Let&#39;s configure the environment of Postgresql + TypeORM + Typescript + Graphql
        </h1>
    

            </header>
        
        
            <div class="article-meta">
                
  <div class="article-date">
    <i class="fa fa-calendar"></i>
    <a href="/2020/01/19/2020-1-19-postgresql_typeorm_typescript_graphql/" class="article-date">
       <time datetime="2020-01-19T02:21:54.000Z" itemprop="datePublished">2020-01-19</time>
    </a>
  </div>


<div class="article-date">
  <i class="fa fa-calendar-plus-o"></i>
  <a href="/2020/01/19/2020-1-19-postgresql_typeorm_typescript_graphql/" class="article-date">
     <time datetime="2022-05-31T07:12:55.000Z" itemprop="dateModified">2022-05-31</time>
  </a>
</div>


                

                
    <div class="article-tag">
        <i class="fa fa-tag"></i>
        <a class="tag-link-link" href="/tags/Graphql/" rel="tag">Graphql</a>, <a class="tag-link-link" href="/tags/Typescript/" rel="tag">Typescript</a>
    </div>

                

                

            </div>
        
        
        <div class="article-entry" itemprop="articleBody">
            

            

            

            <h1 id="postgresql-typeORM-typescript-graphql-활용한-Backend-구성하기"><a href="#postgresql-typeORM-typescript-graphql-활용한-Backend-구성하기" class="headerlink" title="postgresql + typeORM + typescript + graphql 활용한 Backend 구성하기"></a>postgresql + typeORM + typescript + graphql 활용한 Backend 구성하기</h1><h2 id="typescript-graphql"><a href="#typescript-graphql" class="headerlink" title="typescript + graphql."></a>typescript + graphql.</h2><h3 id="backend-폴더-생성하자"><a href="#backend-폴더-생성하자" class="headerlink" title="backend 폴더 생성하자."></a>backend 폴더 생성하자.</h3><p>백엔드 서비스를 위한 루트 디렉토리를 만들자. 이름은 <em>‘backend’</em> 이다.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">workspace&gt; mkdir backend</span><br></pre></td></tr></table></figure>
<h3 id="package-json-파일-생성하자"><a href="#package-json-파일-생성하자" class="headerlink" title="package.json 파일 생성하자."></a>package.json 파일 생성하자.</h3><p>백엔드 디렉토리 안에서 <em>npm init</em> 명령을 사용해 node 기반 서비스를 구성하기 시작함을 알리자.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">workspace/backend&gt; npm init</span><br></pre></td></tr></table></figure>
<p><img src="/res/2020-1-19-postgresql_typeorm_typescript_graphql/1.png" alt=""></p>
<h3 id="필요한-package-들을-설치하자"><a href="#필요한-package-들을-설치하자" class="headerlink" title="필요한 package 들을 설치하자."></a>필요한 package 들을 설치하자.</h3><p>그렇다면 위의 이미지와 같이 node 서비스에서 기본적으로 필요한 package.json 파일을 생성하기 위해서 많은 것들을 물어본다. 모두 Enter를 눌러서 무시해주자. <br><br> 이제 postgresql + typeORM + typescript + graphql 기술들을 사용하기 위해서 필요한 라이브러리, 모듈, 패키지들을 npm을 활용해 설치할 것이다. backend 폴더로 이동한 이후 아래의 명령어를 입력하자.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">workspace/backend&gt; npm install graphql-to-typescript graphql-tools graphql-yoga nodemon ts-node tslint-config-prettier babel-runtime typescript</span><br></pre></td></tr></table></figure>
<p><img src="/res/2020-1-19-postgresql_typeorm_typescript_graphql/2.png" alt=""></p>
<p>만약 설치가 잘 완료되었다면 <em>‘package.json’</em> 파일 안에 <em>‘dependencies’</em> 항목이 생기는데 위와같이 그 항목 안에 우리가 설치한 패키지들을 확인할 수 있다. 그 다음으로는 프로덕션 환경이 아닌 개발 환경에서만 사용할 패키지를 설치할 것이다. backend 폴더로 이동하여 아래와 같이 명령어를 입력하자. </p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">workspace/backend&gt; npm install --save-dev @types/node</span><br></pre></td></tr></table></figure>
<p>—save-dev 속성을 넣어주게되면 해당 패키지는 개발 환경의 의존성으로만 추가가 되며 package.json 에도 dependencies 항목이 아닌 devDependencies 항목에 추가가 된다.</p>
<p><img src="/res/2020-1-19-postgresql_typeorm_typescript_graphql/3.png" alt=""></p>
<h3 id="각-package들의-역할을-간략하게-알아보자"><a href="#각-package들의-역할을-간략하게-알아보자" class="headerlink" title="각 package들의 역할을 간략하게 알아보자."></a>각 package들의 역할을 간략하게 알아보자.</h3><p>각 패키지들의 역할을 간략하게나마 소개하자면 아래와 같다.</p>
<h4 id="graphql-to-typescript"><a href="#graphql-to-typescript" class="headerlink" title="graphql-to-typescript"></a>graphql-to-typescript</h4><p>type, resolver와 같은 graphql 관련 타입들을 typescript 문법이 이해할수 있는 타입으로 변환할 수 있게 도와주는 패키지이다.</p>
<h4 id="graphql-tools"><a href="#graphql-tools" class="headerlink" title="graphql-tools"></a>graphql-tools</h4><p>schema와 resolver를 분리해주는 구조를 만들어 주는 패키지라고 하는데 잘 모르겠다.</p>
<h4 id="graphql-yoga"><a href="#graphql-yoga" class="headerlink" title="graphql-yoga"></a>graphql-yoga</h4><p>React에서 <em>‘create-react-app’</em>과 같이 손쉽게 graphql 설치를 할 수 있도록 도와주는 graphql 종합 패키지라고 보면 될 것 같다. 이 패키지를 설치하게 되면. 실제 서버의 역할을 해주는 <em>‘express’</em>, <em>‘apollo server’</em> 패키지와 graphql 핵심 기능을 담고 있는 <em>‘graphql.js’</em>, 위에서 설명한 <em>‘graphql-tools’</em>, 그리고 웹 환경에서 GUI로 REQ/RES를 테스트할 수 있는 <em>‘graphql-playground’</em>와 같은 IDE 등이 종합적으로 제공된다.</p>
<h4 id="nodemon"><a href="#nodemon" class="headerlink" title="nodemon"></a>nodemon</h4><p>서버가 실행중일 때 코드에 어떤 수정사항이 생기면 바로 적용할 수 있도록 도와주는 패키지이다.</p>
<h4 id="babel-runtime"><a href="#babel-runtime" class="headerlink" title="babel-runtime"></a>babel-runtime</h4><p>Babel은 기본적으로 ES6/ES7 코드를 ECMAScript5 코드로 트랜스파일링하기 위한 도구이다.</p>
<h4 id="ts-node"><a href="#ts-node" class="headerlink" title="ts-node"></a>ts-node</h4><p>타입스크립트에서는 타입스크립트를 자바스크립트로 변환해주는 tsc 라는 도구를 제공한다. 이 도구를 이용하면 타입스크립트 코드가 그와 같은 기능을 하는 자바스크립트 코드로 변경되는데 이 과정을 transpile 이라 한다. 그러나 코드 수정이 일어날 때마다 매번 transpiling 작업을 하게되면 작업속도가 현저히 느려질 수 밖에 없는데 그래서 ts-node는 메모리상에서 타입스크립트를 transpiling 하여 바로 실행할 수 있게 한다.</p>
<h4 id="tslint-config-prettier"><a href="#tslint-config-prettier" class="headerlink" title="tslint-config-prettier"></a>tslint-config-prettier</h4><p>tslint는 typescript 언어를 작성할 때 코드 표준 규칙들을 잘 준수하고 있는지 체크해주는 정적 코드 분석 도구이며 prettier는 vscode에서 코드를 정리해주는 패키지이다.</p>
<h4 id="typescript"><a href="#typescript" class="headerlink" title="typescript"></a>typescript</h4><p>typescript 언어는 트랜스파일링 언어로 코드 작성 완료후 트랜스파일링 작업을 진행해야 하는데 이 패키지에 있는 tsc 도구 등을 통해 자바스크립트로 변환이 가능하다. java에서 jdk같은 느낌으로 받아들이자.</p>
<h3 id="‘-gitignore’-파일을-생성해-git에-올릴-파일을-조절해보자"><a href="#‘-gitignore’-파일을-생성해-git에-올릴-파일을-조절해보자" class="headerlink" title="‘.gitignore’ 파일을 생성해 git에 올릴 파일을 조절해보자."></a>‘.gitignore’ 파일을 생성해 git에 올릴 파일을 조절해보자.</h3><p>git commit/push 전에 node<em>modules 폴더 내부를 보자. 우리가 설치한 패키지들 고작 몇개인데 그것들로 인해 node_modules 폴더는 수많은 파일들로 가득 차있다. 이 파일들도 git에 올리게 되면 참 고생길이 훤할 것이다. 또 정작 실제 소스들도 아님으로 그렇게 중요한 파일들은 아니다. git 업로드 내용에 제거하기 위해서 </em>‘backend’<em> 폴더 내부에 </em>‘.gitignore’_ 파일을 생성하자. 그리고 그 안에 node_modules 라고 적자.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">workspace/backend&gt; touch .gitignore</span><br></pre></td></tr></table></figure>
<h4 id="gitignore"><a href="#gitignore" class="headerlink" title=".gitignore"></a>.gitignore</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">node_modules</span><br></pre></td></tr></table></figure>
<p><img src="/res/2020-1-19-postgresql_typeorm_typescript_graphql/4.png" alt=""></p>
<p>이렇게 하면 node_modules 폴더에 해당하는 파일들을 git remote repository로 업로드 되지 않는다.</p>
<h3 id="typescript-graphql-환경설정-파일들-생성-및-작성해보자"><a href="#typescript-graphql-환경설정-파일들-생성-및-작성해보자" class="headerlink" title="typescript + graphql 환경설정 파일들 생성 및 작성해보자"></a>typescript + graphql 환경설정 파일들 생성 및 작성해보자</h3><p>우선 typescript + graphql 기술들을 활용한 backend 환경을 구성하기 위해 필요한 설정 파일들을 만들자. 하나 알아둘 것은 현재 설치한 node package 들 중에 typeORM과 관련된 항목은 없는데 이는 이후에 관련된 package 들을 추가로 설치할 것이다. <br><br> backend 폴더에서 아래 4개의 파일을 만든다.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">workspace/backend&gt; touch nodemon.json</span><br><span class="line">workspace/backend&gt; touch tsconfig.json</span><br><span class="line">workspace/backend&gt; touch tslint.json</span><br><span class="line">workspace/backend&gt; touch .babelrc</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>각 파일들에 들어가야할 내용들은 아래와 같다. 파일이름이 헷갈리지 말고 각 내용들을 복사, 붙여넣기하자.</p>
<h4 id="nodemon-json"><a href="#nodemon-json" class="headerlink" title="nodemon.json"></a>nodemon.json</h4><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;ext&quot;</span><span class="punctuation">:</span> <span class="string">&quot;ts graphql&quot;</span></span><br><span class="line"><span class="punctuation">&#125;</span> </span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>위 파일 <em>‘nodemon.json’</em> 에서 <em>“ext”</em> 속성은 확장자를 의미하는데 그 속성값으로 적혀있는 확장자의 코드가 (여기서는 ts와 graphql) 수정될 경우 프로젝트는 새로고침된다.</p>
<h4 id="tsconfig-json"><a href="#tsconfig-json" class="headerlink" title="tsconfig.json"></a>tsconfig.json</h4><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;compilerOptions&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">      <span class="attr">&quot;baseUrl&quot;</span><span class="punctuation">:</span> <span class="string">&quot;.&quot;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;module&quot;</span><span class="punctuation">:</span> <span class="string">&quot;commonjs&quot;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;target&quot;</span><span class="punctuation">:</span> <span class="string">&quot;es5&quot;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;lib&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span><span class="string">&quot;es6&quot;</span><span class="punctuation">,</span> <span class="string">&quot;dom&quot;</span><span class="punctuation">,</span> <span class="string">&quot;esnext.asynciterable&quot;</span><span class="punctuation">]</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;sourceMap&quot;</span><span class="punctuation">:</span> <span class="keyword">true</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;allowJs&quot;</span><span class="punctuation">:</span> <span class="keyword">true</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;moduleResolution&quot;</span><span class="punctuation">:</span> <span class="string">&quot;node&quot;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;rootDir&quot;</span><span class="punctuation">:</span> <span class="string">&quot;src&quot;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;forceConsistentCasingInFileNames&quot;</span><span class="punctuation">:</span> <span class="keyword">true</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;noImplicitReturns&quot;</span><span class="punctuation">:</span> <span class="keyword">true</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;noImplicitThis&quot;</span><span class="punctuation">:</span> <span class="keyword">true</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;noImplicitAny&quot;</span><span class="punctuation">:</span> <span class="keyword">false</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;strictNullChecks&quot;</span><span class="punctuation">:</span> <span class="keyword">true</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;suppressImplicitAnyIndexErrors&quot;</span><span class="punctuation">:</span> <span class="keyword">true</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;noUnusedLocals&quot;</span><span class="punctuation">:</span> <span class="keyword">true</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;esModuleInterop&quot;</span><span class="punctuation">:</span> <span class="keyword">true</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;skipLibCheck&quot;</span><span class="punctuation">:</span> <span class="keyword">true</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;experimentalDecorators&quot;</span><span class="punctuation">:</span> <span class="keyword">true</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;emitDecoratorMetadata&quot;</span><span class="punctuation">:</span> <span class="keyword">true</span><span class="punctuation">,</span></span><br><span class="line">    <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;exclude&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line">      <span class="string">&quot;node_modules&quot;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="string">&quot;build&quot;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="string">&quot;scripts&quot;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="string">&quot;acceptance-tests&quot;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="string">&quot;webpack&quot;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="string">&quot;jest&quot;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="string">&quot;src/setupTests.ts&quot;</span></span><br><span class="line">    <span class="punctuation">]</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>tsconfig.json은 typescript가 js 파일로 transpiling 할 때 고려되어지는 설정 정보들을 담고있는 파일 같다. 자세히는 모르겠다.</p>
<h4 id="tslint-json"><a href="#tslint-json" class="headerlink" title="tslint.json"></a>tslint.json</h4><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;extends&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span><span class="string">&quot;tslint:recommended&quot;</span><span class="punctuation">,</span> <span class="string">&quot;tslint-config-prettier&quot;</span><span class="punctuation">]</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;linterOptions&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">      <span class="attr">&quot;exclude&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span><span class="string">&quot;config/**/*.js&quot;</span><span class="punctuation">,</span> <span class="string">&quot;node_modules/**/*.&quot;</span><span class="punctuation">]</span></span><br><span class="line">    <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;rules&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">      <span class="attr">&quot;no-console&quot;</span><span class="punctuation">:</span> <span class="keyword">false</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;member-access&quot;</span><span class="punctuation">:</span> <span class="keyword">false</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;object-literal-sort-keys&quot;</span><span class="punctuation">:</span> <span class="keyword">false</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;ordered-imports&quot;</span><span class="punctuation">:</span> <span class="keyword">true</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;interface-name&quot;</span><span class="punctuation">:</span> <span class="keyword">false</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;strict-null-checks&quot;</span><span class="punctuation">:</span> <span class="keyword">false</span></span><br><span class="line">    <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;rulesDirectory&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span><span class="punctuation">]</span></span><br><span class="line">  <span class="punctuation">&#125;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>TSlint, ESlint, JSlint 등 다양하게 있는데 이 들은 작성되어지는 코드들이 표준을 잘 지키는지 등을 확인하는 정적 분석 도구이다. 아마도 위 tslint.json 설정파일은 이 정적 분석 도구의 어떠한 설정을 하는 파일 같다.</p>
<h4 id="babelrc"><a href="#babelrc" class="headerlink" title=".babelrc"></a>.babelrc</h4><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;presets&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span><span class="string">&quot;@babel/preset-env&quot;</span><span class="punctuation">]</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>babel 관련 설정파일 이겠지..</p>
<h3 id="typescript-graphql-관련-소스-코드-생성"><a href="#typescript-graphql-관련-소스-코드-생성" class="headerlink" title="typescript + graphql 관련 소스 코드 생성"></a>typescript + graphql 관련 소스 코드 생성</h3><p>소스 코드를 담기위한 <em>‘src’</em> 폴더를 만들자. 현재 우리는 백엔드 환경을 구축하고 있는 것을 잊지 말자. 즉 backend 폴더 내부에 <em>‘src’</em> 폴더를 만들라는 의미다. 그리고 graphql 서버 실행을 위한 <em>‘index.ts’</em> 파일을 <em>‘src’</em> 폴더 안에 생성하자.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">workspace/backend&gt; mkdir src</span><br><span class="line">workspace/backend/src&gt; touch index.ts</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h4 id="index-ts"><a href="#index-ts" class="headerlink" title="index.ts"></a>index.ts</h4><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">import</span> &#123; <span class="title class_">GraphQLServer</span> &#125; <span class="keyword">from</span> <span class="string">&quot;graphql-yoga&quot;</span></span><br><span class="line"><span class="comment">// graphql-yoga 패키지를 GraphQLServer 라는 이름으로 가져온다.</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> typeDefs = <span class="string">`</span></span><br><span class="line"><span class="string">  type Query &#123;</span></span><br><span class="line"><span class="string">    sayHello : String!</span></span><br><span class="line"><span class="string">  &#125;</span></span><br><span class="line"><span class="string">`</span></span><br><span class="line"><span class="comment">// graphql server를 실행시키기 위해 필요한 파라미터 둘 중 하나 &#x27;typeDefs&#x27; 정의</span></span><br><span class="line"><span class="comment">// &#x27;typeDefs&#x27;는 인자값과 리턴되는 값의 타입을 지정한다. </span></span><br><span class="line"><span class="comment">// 추가적으로 &#x27;String!&#x27;에서 !는 null을 허용하지 않음을 의미한다. </span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> resolvers = &#123;</span><br><span class="line">  <span class="title class_">Query</span> : &#123;</span><br><span class="line">    <span class="attr">sayHello</span>: <span class="function">() =&gt;</span> <span class="string">&quot;Hi there :0)&quot;</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// graphql server를 실행시키기 위해 필요한 파라미터 둘 중 하나 &#x27;resolvers&#x27; 정의</span></span><br><span class="line"><span class="comment">// &#x27;resolvers&#x27;는 비지니스 로직이 실제로 들어가는 부분이다.</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> server = <span class="keyword">new</span> <span class="title class_">GraphQLServer</span>(&#123; typeDefs, resolvers &#125;);</span><br><span class="line"><span class="comment">// &#x27;graphql-yoga&#x27;를 import한 GraphQLServer 객체와 위에 정의한 2개의 파라미터를 활용해 server 객체를 생성한다.</span></span><br><span class="line"><span class="comment">// &#123; &#125; 이 표시는 왜 있을까? 한 객체로 파라미터를 전달한다는 의미일까?</span></span><br><span class="line"></span><br><span class="line">server.<span class="title function_">start</span>(<span class="function">() =&gt;</span> <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;My first GraphQL Server is running on localhost:4000&#x27;</span>))</span><br><span class="line"><span class="comment">// 실제 서버를 실행시키는 코드이다.</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h3 id="package-json-script-수정하기"><a href="#package-json-script-수정하기" class="headerlink" title="package.json script 수정하기"></a>package.json script 수정하기</h3><p>node 기반 서비스들을 동작시키기 위해서 보통 npm, yarn 등의 패키지 관리자를 활용해 스크립트를 실행시킨다. 이 스크립트는 package.json 안에 script 속성을 활용해서 임의적으로 구현할 수 있으며 우리는 ‘index.ts’ 에서 짠 graphql server가 잘 실행될 수 있도록 스크립트를 구성할것이다.</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">...</span><br><span class="line"></span><br><span class="line"><span class="attr">&quot;scripts&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;dev&quot;</span><span class="punctuation">:</span> <span class="string">&quot;cd src &amp;&amp; nodemon --exec ts-node index.ts -e ts, graphql&quot;</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br><span class="line"></span><br><span class="line">...</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>기존에 존재하던 “test”: “echo \”Error: no test specified\” &amp;&amp; exit 1” 소스는 지우고 해당 부분에 위와 같이 “dev” 라는 이름을 가진 스크립트를 추가하자. 수정된 package.json 전문은 아래와 같다.</p>
<h4 id="package-json"><a href="#package-json" class="headerlink" title="package.json"></a>package.json</h4><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;name&quot;</span><span class="punctuation">:</span> <span class="string">&quot;backend&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;version&quot;</span><span class="punctuation">:</span> <span class="string">&quot;1.0.0&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;description&quot;</span><span class="punctuation">:</span> <span class="string">&quot;&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;main&quot;</span><span class="punctuation">:</span> <span class="string">&quot;index.js&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;scripts&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;dev&quot;</span><span class="punctuation">:</span> <span class="string">&quot;cd src &amp;&amp; nodemon --exec ts-node index.ts -e ts, graphql&quot;</span></span><br><span class="line">  <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;author&quot;</span><span class="punctuation">:</span> <span class="string">&quot;&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;license&quot;</span><span class="punctuation">:</span> <span class="string">&quot;ISC&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;dependencies&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;babel-runtime&quot;</span><span class="punctuation">:</span> <span class="string">&quot;^6.26.0&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;graphql-to-typescript&quot;</span><span class="punctuation">:</span> <span class="string">&quot;^0.1.2&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;graphql-tools&quot;</span><span class="punctuation">:</span> <span class="string">&quot;^4.0.6&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;graphql-yoga&quot;</span><span class="punctuation">:</span> <span class="string">&quot;^1.18.3&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;nodemon&quot;</span><span class="punctuation">:</span> <span class="string">&quot;^2.0.2&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;ts-node&quot;</span><span class="punctuation">:</span> <span class="string">&quot;^8.6.2&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;tslint-config-prettier&quot;</span><span class="punctuation">:</span> <span class="string">&quot;^1.18.0&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;typescript&quot;</span><span class="punctuation">:</span> <span class="string">&quot;^3.7.4&quot;</span></span><br><span class="line">  <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;devDependencies&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;@types/node&quot;</span><span class="punctuation">:</span> <span class="string">&quot;^13.1.7&quot;</span></span><br><span class="line">  <span class="punctuation">&#125;</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p> <img src="/res/2020-1-19-postgresql_typeorm_typescript_graphql/5.png" alt=""></p>
<h3 id="graphql-server-실행하기"><a href="#graphql-server-실행하기" class="headerlink" title="graphql server 실행하기."></a>graphql server 실행하기.</h3><p><em>‘package.json’</em> 안에 <em>‘scripts’</em> 속성 안에 “dev”에 해당하는 코드를 살펴 보면 src 폴더로 이동한 이후 <em>‘index.ts’</em> 파일을 ts-node를 활용해서 트랜스파일링 하고, 그 트랜스파일링된 js 파일을 nodemon으로 실행시키는 형태이다.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">1. src 폴더로 이동.</span><br><span class="line"></span><br><span class="line">2. ts-node를 이용해서 index.ts transpiling.</span><br><span class="line"></span><br><span class="line">3. nodemon으로 실행.</span><br></pre></td></tr></table></figure>
<p>아래의 명령어를 통해 “dev” 스크립트를 실행시켜 보자.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">workspace/backend&gt; npm dev run</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p><img src="/res/2020-1-19-postgresql_typeorm_typescript_graphql/6.png" alt=""></p>
<p>혹시 위와 같은 오류가 전시되면서 실행이 안된다면 yarn 패키지 매니저를 설치하고 아래와 같이 명령어를 실행하자. / 위와 같은 에러가 나는 이유는 나도 잘 모르겠다.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">workspace/backend&gt; yarn</span><br><span class="line">workspace/backend&gt; yarn dev</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>yarn 만 입력한 첫번째 명령어는 <em>‘yarn’</em> 패키지 매니저의 관련 기능들을 최신화 시켜주는 것이고 <em>‘yarn dev’</em> 명령어가 위의 <em>‘npm dev run’</em> 명령어와 동일하게 <em>‘dev’</em> 스크립트를 실행하는 역할을 한다.</p>
<p><img src="/res/2020-1-19-postgresql_typeorm_typescript_graphql/7.png" alt=""></p>
<p>위와 같은 로그가 보인다면 아래 링크를 클릭 혹은 ‘localhost:4000’ 으로 접속해보자. 그러면 graphql-playground 패키지가 제공해주는 IDE를 확인할 수 있다.</p>
<p><a target="_blank" rel="noopener" href="http://localhost:4000/">localhost:4000</a></p>
<p>이 IDE는 postman의 역할과 유사하며, graphql 형식으로 REQ를 던지면 RES가 어떻게 나오는지를 확인해볼수 있다.</p>
<h3 id="graphql에서-query"><a href="#graphql에서-query" class="headerlink" title="graphql에서 query?"></a>graphql에서 query?</h3><p>query 타입과 mutation 타입은 graphql에서 일반적인 객체 타입과 동일하나 모든 graphql 타입 정의에서 첫부분에 사용된다는 점이 특별하다. 즉 이 타입들은 스키마에서 <em>‘entry point’</em> 즉 하나의 진입점으로 생각할 수 있다. query나 mutation 타입이 있다면 ‘아 이부분 부터 시작하는구나’ 라고 인지시킬수 있다는 것이다. 그러나 아까 말했다시피 이들도 객체 타입임으로 object 타입과 동일하게 동작함을 기억하고 있는 것은 중요하다.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">query &#123;</span><br><span class="line">  hero &#123;</span><br><span class="line">    name</span><br><span class="line">  &#125;</span><br><span class="line">  droid(id: &quot;2000&quot;) &#123;</span><br><span class="line">    name</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>위와같은 쿼리를 본다면 <em>‘query’</em> 키워드를 통해 진입점을 찾고 그 안에 있는 <em>‘hero’</em>, <em>‘droid’</em> 필드를 요청한다.</p>
<h3 id="postgresql-typeORM-typescript-graphql-환경을-위해-새로운-패키지-추가하자"><a href="#postgresql-typeORM-typescript-graphql-환경을-위해-새로운-패키지-추가하자" class="headerlink" title="postgresql + typeORM + typescript + graphql 환경을 위해 새로운 패키지 추가하자"></a>postgresql + typeORM + typescript + graphql 환경을 위해 새로운 패키지 추가하자</h3><p>지금까지 작업한 내용은 typescript + graphql 까지만을 활용한 환경 구축하는 방법이였다. 이제 여기에 postgresql 데이터베이스와 typeORM을 추가 연동하여 DB에 접근이 가능하도록 해보자. <br><br> 위에서 패키지들을 설치할 때 postgresql, typeORM와 관련된 패키지들은 설치하지 않았다. 이제 아래의 명령어를 활용해서 3개의 패키지를 더 추가해보자. 백엔드 폴더에서 설치해야함을 잊지말자.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">workspace/backend&gt; npm install pg typeorm dotenv</span><br></pre></td></tr></table></figure>
<p>설치가 잘 되었다면 아래처럼 <em>‘dependecies’</em> 항목에 추가되었을 것이다.</p>
<p><img src="/res/2020-1-19-postgresql_typeorm_typescript_graphql/8.png" alt=""></p>
<h3 id="각-패키지에-대해-간략히-이해해보자"><a href="#각-패키지에-대해-간략히-이해해보자" class="headerlink" title="각 패키지에 대해 간략히 이해해보자."></a>각 패키지에 대해 간략히 이해해보자.</h3><h4 id="pg"><a href="#pg" class="headerlink" title="pg"></a>pg</h4><p>postgresql 데이터베이스를 node에서 사용하기 위해서 추가로 설치해야 하는 패키지.</p>
<h4 id="typeorm"><a href="#typeorm" class="headerlink" title="typeorm"></a>typeorm</h4><p>말 그대로 typeORM을 사용하기 위한 패키지.</p>
<h4 id="dotenv"><a href="#dotenv" class="headerlink" title="dotenv"></a>dotenv</h4><p>데이터베이스의 환경설정 정보 같은 것을 다른 파일에 정의 해두고 사용하고 싶을 때 사용하는 패키지. 이렇게 되면 git 관리를 통해 보안성을 좀 더 향상 시킬 수 있다.</p>
<h3 id="typeORM을-위한-ormConfig-ts-env-파일-생성"><a href="#typeORM을-위한-ormConfig-ts-env-파일-생성" class="headerlink" title="typeORM을 위한 ormConfig.ts, .env 파일 생성"></a>typeORM을 위한 ormConfig.ts, .env 파일 생성</h3><p>typeORM을 활용해서 postgresql 데이터베이스를 함께 연동할 것이다. 연동할 때 필요한 설정들을 가지고 있는 파일 <em>‘ormConfig.ts’</em>과 DB 정보를 가지고 있는 <em>‘.env’</em> 파일을 생성하자.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">workspace/backend/src&gt; touch ormConfig.ts</span><br><span class="line">workspace/backend/src&gt; touch .env</span><br></pre></td></tr></table></figure>
<h4 id="env"><a href="#env" class="headerlink" title=".env"></a>.env</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">DB_HOST = &quot;localhost&quot;</span><br><span class="line">DB_USERNAME = &quot;slack_clone&quot;</span><br><span class="line">DB_PASSWORD = &quot;root&quot;</span><br></pre></td></tr></table></figure>
<h4 id="ormConfig-ts"><a href="#ormConfig-ts" class="headerlink" title="ormConfig.ts"></a>ormConfig.ts</h4><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; <span class="title class_">ConnectionOptions</span>, <span class="title class_">Connection</span>, createConnection &#125; <span class="keyword">from</span> <span class="string">&quot;typeorm&quot;</span>;</span><br><span class="line"><span class="comment">// typeorm 패키지에서 위 3개의 객체들을 가져온다.</span></span><br><span class="line"><span class="comment">//  ConnectionOptions : typeORM에서 DB 환경 정보를 받기 위한 객체 타입.</span></span><br><span class="line"><span class="comment">//  Connection : typeORM에서 제공하는 연결 객체 타입 인듯.</span></span><br><span class="line"><span class="comment">//  createConnection : 연결을 만드는 함수</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> dotenv <span class="keyword">from</span> <span class="string">&quot;dotenv&quot;</span>;</span><br><span class="line">dotenv.<span class="title function_">config</span>();</span><br><span class="line"><span class="comment">// dotenv 패키지를 통해서 미리 만들어둔 DB 환경설정 정보를 가져온다. (계정, 패스워드 ...)</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="attr">connectionOptions</span>:<span class="title class_">ConnectionOptions</span> = &#123;</span><br><span class="line">    <span class="keyword">type</span> : <span class="string">&quot;postgres&quot;</span>,              </span><br><span class="line">    <span class="comment">// typeORM 통해 사용할 DBMS</span></span><br><span class="line">    database : <span class="string">&quot;slack_clone&quot;</span>,       </span><br><span class="line">    <span class="comment">// 데이터베이스 이름</span></span><br><span class="line">    synchronize : <span class="literal">true</span>,             </span><br><span class="line">    <span class="comment">// DB관련 코드 수정 내용을 바로바로 적용할지에 대한 여부</span></span><br><span class="line">    logging : <span class="literal">true</span>,                 </span><br><span class="line">    <span class="comment">// 서버가 시작될 때 DB 생성하는 쿼리 등의 로그를 보여줄지에 대한 여부</span></span><br><span class="line">    entities : [<span class="string">&quot;entities/**/*.*&quot;</span>],  </span><br><span class="line">    <span class="comment">// typeORM은 테이블의 생성을 도와주는데 그 테이블의 스키마 등을 명세하는 객체를 entity라고 함 그 파일들의 경로를 가리킴.</span></span><br><span class="line">    host : process.<span class="property">env</span>.<span class="property">DB_HOST</span>,</span><br><span class="line">    <span class="comment">// 데이터베이스 접근할 때 </span></span><br><span class="line">    port : <span class="number">5432</span>,</span><br><span class="line">    <span class="comment">// 데이터베이스 연결할 때 어떤 포트를 쓸건지에 대한 설정</span></span><br><span class="line">    username : process.<span class="property">env</span>.<span class="property">DB_USERNAME</span>,</span><br><span class="line">    <span class="comment">// 데이터베이스 연결할 때 사용자 이름.</span></span><br><span class="line">    password : process.<span class="property">env</span>.<span class="property">DB_PASSWORD</span></span><br><span class="line">    <span class="comment">// 데이터베이스 연결할 때 사용자 비밀번호.</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="attr">connection</span>:<span class="title class_">Promise</span>&lt;<span class="title class_">Connection</span>&gt; = <span class="title function_">createConnection</span>(connectionOptions);</span><br><span class="line"><span class="comment">// 위에서 정의한 connectionOptions와 연결 객체를 만드는 createConnection() 함수를 활용해서 DB connection 객체를 만들고 이를 반환. 이 connection 타입은 Promise&lt;Connection&gt; 으로 Connection 객체인데 비동기로 받겠다는 의미.</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> connection;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h3 id="Promise-잠깐-알아보고-가자"><a href="#Promise-잠깐-알아보고-가자" class="headerlink" title="Promise 잠깐 알아보고 가자"></a>Promise 잠깐 알아보고 가자</h3><p>ES6로 넘어오기 전 JS의 문법에서는 Ajax와 같은 비동기 처리를 위해서 아래와 같은 형식의 콜백함수를 활용해야했다. 이러한 코드는 읽을 때 흐름이 계속 이리저리 바뀌게 되어 가독성에 좋지 않고 비동기 처리가 chaining될 경우 계속 중첩된 코드를 작성해야하는 이슈가 있다.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">getData</span>(<span class="params">callbackFunc</span>) &#123;</span><br><span class="line">  $.<span class="title function_">get</span>(<span class="string">&#x27;url&#x27;</span>, <span class="keyword">function</span> (<span class="params">response</span>) &#123;</span><br><span class="line">    <span class="title function_">callbackFunc</span>(response); </span><br><span class="line">  &#125;);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line"><span class="title function_">getData</span>(<span class="keyword">function</span> (<span class="params">tableData</span>) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(tableData);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>Promise 객체를 사용하게되면 이러한 비동기 처리를 보다 가독성이 좋은 방법으로 구현할 수 있다. </p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">getData</span>(<span class="params">callback</span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="keyword">function</span> (<span class="params">resolve, reject</span>) &#123;</span><br><span class="line">    $.<span class="title function_">get</span>(<span class="string">&#x27;url 주소/products/1&#x27;</span>, <span class="keyword">function</span> (<span class="params">response</span>) &#123;</span><br><span class="line">      <span class="title function_">resolve</span>(response);</span><br><span class="line">    &#125;);</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="title function_">getData</span>().<span class="title function_">then</span>(<span class="keyword">function</span> (<span class="params">tableData</span>) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(tableData);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>Promise 도입에 의해 정의하는 부분은 코드가 더 복잡하다고 생각할 수 있지만 실제 비동기 처리를 요구하는 실제로 getData() 함수를 사용하는 부분은 보다 더 간단해진다. </p>
<h3 id="index-ts를-수정하고-postgresql-typeORM-typescript-graphql-환경-실행해보자"><a href="#index-ts를-수정하고-postgresql-typeORM-typescript-graphql-환경-실행해보자" class="headerlink" title="index.ts를 수정하고 postgresql + typeORM + typescript + graphql 환경 실행해보자."></a>index.ts를 수정하고 postgresql + typeORM + typescript + graphql 환경 실행해보자.</h3><p>graphql 서버만 실행하는 기존코드에서 typeORM을 통해 postgresql DB를 먼저 연결 하고 그다음에 graphql 서버를 시작하는 코드로 수정하였다.</p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment">// (AS-IS)</span></span><br><span class="line">server.<span class="title function_">start</span>(<span class="function">() =&gt;</span> </span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;My first GraphQL Server is running on localhost:4000&#x27;</span>)</span><br><span class="line">)</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment">// (TO-BE)</span></span><br><span class="line">connection.<span class="title function_">then</span>(<span class="function">() =&gt;</span></span><br><span class="line">    server.<span class="title function_">start</span>(<span class="function">() =&gt;</span> </span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;My first GraphQL Server is running on localhost:4000&#x27;</span>)</span><br><span class="line">    )</span><br><span class="line">);</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>아래는 <em>‘index.ts’</em> 의 수정된 전문이다. connection 개체는 방금 위에서 <em>‘ormConfig.ts’</em> 에서 생성한 녀석임으로 사용하기 위해서는 import 해야한다. </p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; <span class="title class_">GraphQLServer</span> &#125; <span class="keyword">from</span> <span class="string">&quot;graphql-yoga&quot;</span></span><br><span class="line"><span class="keyword">import</span> connection <span class="keyword">from</span> <span class="string">&quot;./ormConfig&quot;</span></span><br><span class="line"></span><br><span class="line">  <span class="keyword">const</span> typeDefs = <span class="string">`</span></span><br><span class="line"><span class="string">    type Query &#123;</span></span><br><span class="line"><span class="string">      sayHello : String!</span></span><br><span class="line"><span class="string">    &#125;</span></span><br><span class="line"><span class="string">  `</span> </span><br><span class="line"></span><br><span class="line">  <span class="keyword">const</span> resolvers = &#123;</span><br><span class="line">    <span class="title class_">Query</span> : &#123;</span><br><span class="line">      <span class="attr">sayHello</span>: <span class="function">() =&gt;</span> <span class="string">&quot;Hi there :0)&quot;</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">const</span> server = <span class="keyword">new</span> <span class="title class_">GraphQLServer</span>(&#123; typeDefs, resolvers &#125;);</span><br><span class="line"></span><br><span class="line">connection.<span class="title function_">then</span>(<span class="function">() =&gt;</span></span><br><span class="line">    server.<span class="title function_">start</span>(<span class="function">() =&gt;</span> </span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;My first GraphQL Server is running on localhost:4000&#x27;</span>)</span><br><span class="line">    )</span><br><span class="line">);</span><br></pre></td></tr></table></figure>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">workspace/backend&gt; yarn dev</span><br></pre></td></tr></table></figure>
<p><img src="/res/2020-1-19-postgresql_typeorm_typescript_graphql/9.png" alt=""></p>
<p>위의 이미지 처럼 테이블들을 생성하는 로그가 나오고 서버가 실행되었다면 잘 구현한것이다.</p>
<p><a target="_blank" rel="noopener" href="http://localhost:4000/">localhost:4000</a></p>
<h3 id="entity를-활용하여-테이블을-구성해보자"><a href="#entity를-활용하여-테이블을-구성해보자" class="headerlink" title="entity를 활용하여 테이블을 구성해보자."></a>entity를 활용하여 테이블을 구성해보자.</h3><p>typeORM을 활용하면 데이터베이스에 들어가서 직접 쿼리를 날려 테이블을 생성하지 않아도 된다. typeORM에서 제공하는 entity라는 것을 활용하면 보다 자유롭게 테이블을 생성할 수 있다. 이러한 방식의 이점은 테이블을 이루는 스키마가 변경해야할 경우 단순히 entity에 관련된 소스코드 수정만 하면 됨으로 직접 생성하는 방법보다 훨씬 간단하다. 그리고 typeORM에서 다양한 데이터베이스를 지원하고 있기에 어떤 시스템의 데이터베이스가 다른 종류로 변경될 경우(예를 들어 mariaDB -&gt; oracle) 큰 리스크 없이 변경이 가능하다.</p>
<p>entity를 관리하는 폴더 <em>‘entities’</em> 를 만들고 그 안에 <em>‘Message.ts’</em>, <em>‘Channel.ts’</em> 두 개의 파일을 만들자.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">workspace/backend/src&gt; mkdir entities</span><br><span class="line">workspace/backend/src/entities&gt; touch Message.ts</span><br><span class="line">workspace/backend/src/entities&gt; touch Channel.ts</span><br></pre></td></tr></table></figure>
<p><em>‘Message.ts’</em>, <em>‘Channel.ts’</em> 두 파일은 각각 Message 테이블, Channel 테이블을 생성할 때 필요한 스키마 정보들을 가지고 있다.</p>
<h4 id="Message-ts"><a href="#Message-ts" class="headerlink" title="Message.ts"></a>Message.ts</h4><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">import</span> &#123; <span class="title class_">Entity</span>, <span class="title class_">BaseEntity</span>, <span class="title class_">PrimaryGeneratedColumn</span>, <span class="title class_">Column</span>, <span class="title class_">ManyToOne</span>, <span class="title class_">CreateDateColumn</span>, <span class="title class_">UpdateDateColumn</span> &#125; <span class="keyword">from</span> <span class="string">&quot;typeorm&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="title class_">Channel</span> <span class="keyword">from</span> <span class="string">&#x27;./Channel&#x27;</span></span><br><span class="line"><span class="comment">// 로컬에 만든 파일을 가져올 때는 확장자 생략이 가능하다.</span></span><br><span class="line"></span><br><span class="line"><span class="meta">@Entity</span>()</span><br><span class="line"><span class="comment">// @Entity() : typeORM의 entity임을 선언</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Message</span> <span class="keyword">extends</span> <span class="title class_ inherited__">BaseEntity</span> &#123;</span><br><span class="line">    <span class="comment">// @PrimaryGeneratedColumn() : mariaDB의 auto_increment와 유사한 역할, Primary Key로 사용할 목적</span></span><br><span class="line">    <span class="meta">@PrimaryGeneratedColumn</span>()</span><br><span class="line">    <span class="attr">id</span>: <span class="built_in">number</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// @Column(&#123;type: &quot;text&quot;, nullable: false&#125;) : 컬럼임을 가리키며 해당 컬럼의 스키마 타입과 null값 허용 여부 명시</span></span><br><span class="line">    <span class="meta">@Column</span>(&#123;<span class="attr">type</span>: <span class="string">&quot;text&quot;</span>, <span class="attr">nullable</span>: <span class="literal">false</span>&#125;)</span><br><span class="line">    <span class="attr">nickname</span>: <span class="built_in">string</span>;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Column</span>(&#123;<span class="attr">type</span>: <span class="string">&quot;text&quot;</span>, <span class="attr">nullable</span>: <span class="literal">false</span>&#125;)</span><br><span class="line">    <span class="attr">contents</span>: <span class="built_in">string</span>;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Column</span>(&#123;<span class="attr">type</span>: <span class="string">&quot;text&quot;</span>, <span class="attr">nullable</span>: <span class="literal">false</span>&#125;)</span><br><span class="line">    <span class="attr">thumbnail</span>: <span class="built_in">string</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 본인과 대상의 관계까 N : 1 임을 표현할 때 사용하는 어노테이션. Message : Channel = N : 1</span></span><br><span class="line">    <span class="comment">// type에는 대상이 되는 클래스 명을 적고 서로 관계되어있는 컬럼으로 연결지음.</span></span><br><span class="line">    <span class="meta">@ManyToOne</span>(<span class="function"><span class="params">type</span> =&gt;</span> <span class="title class_">Channel</span>, <span class="function"><span class="params">channel</span> =&gt;</span> channel.<span class="property">messages</span>)</span><br><span class="line">    <span class="attr">innerChannel</span>: <span class="title class_">Channel</span>;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Column</span>(&#123;<span class="attr">type</span>: <span class="string">&quot;text&quot;</span>, <span class="attr">nullable</span>: <span class="literal">false</span>&#125;)</span><br><span class="line">    <span class="attr">innerChannelId</span>: <span class="built_in">number</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 테이블이 생성되는 시점을 저장하는 필드로 typeORM에서 제공하는 @CreateDateColumn()을 활용해서 바로 구현 가능</span></span><br><span class="line">    <span class="meta">@CreateDateColumn</span>()</span><br><span class="line">    <span class="attr">createdAt</span>: <span class="built_in">string</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 테이블이 생성되는 시점을 저장하는 필드로 typeORM에서 제공하는 @UpdateDateColumn()을 활용해서 바로 구현 가능</span></span><br><span class="line">    <span class="meta">@UpdateDateColumn</span>()</span><br><span class="line">    <span class="attr">updatedAt</span>: <span class="built_in">string</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="title class_">Message</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h4 id="Channel-ts"><a href="#Channel-ts" class="headerlink" title="Channel.ts"></a>Channel.ts</h4><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">import</span> &#123; <span class="title class_">Entity</span>, <span class="title class_">BaseEntity</span>, <span class="title class_">PrimaryGeneratedColumn</span>, <span class="title class_">Column</span>, <span class="title class_">OneToMany</span>, <span class="title class_">CreateDateColumn</span>, <span class="title class_">UpdateDateColumn</span> &#125; <span class="keyword">from</span> <span class="string">&quot;typeorm&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="title class_">Message</span> <span class="keyword">from</span> <span class="string">&quot;./Message&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Entity</span>()</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Channel</span> <span class="keyword">extends</span> <span class="title class_ inherited__">BaseEntity</span> &#123;</span><br><span class="line">    <span class="meta">@PrimaryGeneratedColumn</span>()</span><br><span class="line">    <span class="attr">id</span>: <span class="built_in">number</span>;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Column</span>(&#123;<span class="attr">type</span>: <span class="string">&quot;text&quot;</span>, <span class="attr">nullable</span>: <span class="literal">false</span>&#125;)</span><br><span class="line">    <span class="attr">channelName</span>: <span class="built_in">string</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 본인과 대상의 관계가 1: N 관계를 표현하기 위한 어노테이션. 대상의 관계가 N임으로 이를 표현하기 위해 배열을 사용하고 있음을 볼 수 있다.</span></span><br><span class="line">    <span class="meta">@OneToMany</span>(<span class="function"><span class="params">type</span> =&gt;</span> <span class="title class_">Message</span>, <span class="function"><span class="params">message</span> =&gt;</span> message.<span class="property">innerChannel</span>)</span><br><span class="line">    <span class="attr">messages</span>: <span class="title class_">Message</span>[]</span><br><span class="line"></span><br><span class="line">    <span class="meta">@CreateDateColumn</span>()</span><br><span class="line">    <span class="attr">createdAt</span>: <span class="built_in">string</span>;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@UpdateDateColumn</span>()</span><br><span class="line">    <span class="attr">updatedAt</span>: <span class="built_in">string</span>;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="title class_">Channel</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>일대다&amp;다대일<br>부모와 자식의 관계에서 자식이 그 부모에 고유성을 가지는 것이면 일대다&amp;다대일 관계를 사용.<br>그러나 고유성이 없다면 다대다 관계를 사용.</p>
<p>오직 N:M 관계를 사용하는 방법과 1:N, M:1 두가지를 관계를 사용하는 방법의 차이에 대해서 의아할 수도 있다. 이는 자식의 고유성을 고려했을 때 존재한다면 1:N, M:1으로 표현하고 그렇지 않다면 N:M 관계로 생각하자. 추가적으로 N:M 관계는 사실상 물리적으로 구현이 불가능하고 성능 상의 문제가 있어 사실상 N:1, 1:M으로 표현되어야 한다. 결론적으로 자식의 고유성에 따라 DB 모델링 할때 고려되어지는 방안은 아래와 같다.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">if(자식의 고유성 유)</span><br><span class="line">  then 1:N, M:1</span><br><span class="line"></span><br><span class="line">else if(자식의 고유성 무)</span><br><span class="line">  then N:1, 1:M</span><br></pre></td></tr></table></figure>
<p>프로젝트를 실행한 후 postgresql에 두 테이블이 생성되었는지 확인해보자.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">workspace/backend&gt; yarn dev</span><br></pre></td></tr></table></figure>
<p><img src="/res/2020-1-19-postgresql_typeorm_typescript_graphql/10.png" alt=""></p>
<p><img src="/res/2020-1-19-postgresql_typeorm_typescript_graphql/11.png" alt=""></p>
<p><img src="/res/2020-1-19-postgresql_typeorm_typescript_graphql/12.png" alt=""></p>
<h3 id="graphql-구조-개선을-위해-새로운-‘merge-graphql-schemas’-패키지-설치"><a href="#graphql-구조-개선을-위해-새로운-‘merge-graphql-schemas’-패키지-설치" class="headerlink" title="graphql 구조 개선을 위해 새로운 ‘merge-graphql-schemas’ 패키지 설치"></a>graphql 구조 개선을 위해 새로운 <em>‘merge-graphql-schemas’</em> 패키지 설치</h3><p><em>‘index.ts’</em> 파일을 보자. graphql 서버를 실행시키기 위해서는 <em>‘typeDefs’</em>, <em>‘resolvers’</em> 이 두가지 파라미터가 필요하다.<br>이러한 정보들을 graphql의 스키마라고 부르는데 지금까지의 스키마 정보는 단순히 graphql을 실행시키기 위해서 임의의 샘플 정보를 넣어둔 것이였다. 이번에는 실제로 slack을 구현할 수 있도록 이 스키마 정보를 수정해보자. 또 스키마 관리의 효율성을 증대시키기 위해서 이 스키마 데이터들을 별도의 파일로 관리하는 방법을 알아보자. <br><br> graphql의 schema, resolver 들을 별도의 폴더로 관리할 수 있게 해주는 패키지 이다.npm 혹은 yarn을 활용해서 위의 패키지를 설치하자.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">workspace/backend&gt; npm install merge-graphql-schemas</span><br></pre></td></tr></table></figure>
<h3 id="Graphql을-위해-‘Type’-들을-정의해보자"><a href="#Graphql을-위해-‘Type’-들을-정의해보자" class="headerlink" title="Graphql을 위해 ‘Type’ 들을 정의해보자"></a>Graphql을 위해 <em>‘Type’</em> 들을 정의해보자</h3><p>이 환경에 가장 아쉬운 부분이라고 생각되는 것은 typeORM을 이용하기 위한 VO와 graphql을 이용하기 위한 모델이 별도로 관리되어야 하는 점이다. 이는 아직 graphql의 버전이 낮아서 개선이 안된 부분이라고 함. 위에서 typeORM을 활용할 때에는 <em>‘Message’</em>, <em>‘Channel’</em> 테이블을 구성하기 위해서 이들을 위한 <em>‘Message.ts’</em>, <em>‘Channel.ts’</em> 파일을 만들었다. 이번에는 graphql를 활용해 Client, Server의 api 통신하기 위한 모델을 작성할 것이다. 이 모델들은 graphql 서버를 실행할 때 반드시 필요한 <em>‘type’</em>, <em>‘resolver’</em> 정보를 필히 규명해야 한다. <em>‘index.ts’</em> 에서 sample 사용되었던 <em>‘type’</em>, <em>‘resolver’</em> 를 대신하기 위해 별도의 폴더, 파일로 관리되는 구조를 만들자.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">workspace/backend/src&gt; mkdir api</span><br><span class="line"></span><br><span class="line">workspace/backend/src/api&gt; mkdir Channel</span><br><span class="line">workspace/backend/src/api&gt; mkdir Message</span><br><span class="line"></span><br><span class="line">workspace/backend/src/api/Channel&gt; mkdir Shared</span><br><span class="line">workspace/backend/src/api/Channel/Shared&gt; touch Channel.graphql</span><br><span class="line"></span><br><span class="line">workspace/backend/src/api/Message&gt; mkdir Shared</span><br><span class="line">workspace/backend/src/api/Message/Shared&gt; touch Message.graphql</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h4 id="Channel-graphql"><a href="#Channel-graphql" class="headerlink" title="Channel.graphql"></a>Channel.graphql</h4><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">type</span> <span class="title class_">Channel</span> &#123;</span><br><span class="line">    <span class="attr">id</span>: <span class="title class_">Int</span>!</span><br><span class="line">    <span class="attr">channelName</span>: <span class="title class_">String</span>!</span><br><span class="line">    <span class="attr">messages</span>: [<span class="title class_">Message</span>]</span><br><span class="line">    <span class="attr">createdAt</span>: <span class="title class_">String</span>!</span><br><span class="line">    <span class="attr">updatedAt</span>: <span class="title class_">String</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h4 id="Message-graphql"><a href="#Message-graphql" class="headerlink" title="Message.graphql"></a>Message.graphql</h4><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">type</span> <span class="title class_">Message</span> &#123;</span><br><span class="line">  <span class="attr">id</span>: <span class="title class_">Int</span>!</span><br><span class="line">  <span class="attr">nickname</span>: <span class="title class_">String</span>!</span><br><span class="line">  <span class="attr">thumbnail</span>: <span class="title class_">String</span>!</span><br><span class="line">  <span class="attr">contents</span>: <span class="title class_">String</span>!</span><br><span class="line">  <span class="attr">innerChannel</span>: <span class="title class_">Channel</span>!</span><br><span class="line">  <span class="attr">innerChannelId</span>: <span class="title class_">Int</span>!</span><br><span class="line">  <span class="attr">createdAt</span>: <span class="title class_">String</span>!</span><br><span class="line">  <span class="attr">updatedAt</span>: <span class="title class_">String</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>이 graphql을 위한 모델은 typeORM을 위한 모델과 동일한 필드, 타입을 가지고 있다. 만약 여러가지 상황에 의해 서로 상이해야할 경우가 생긴다면. 커스터마이징된 type을 새로 생성하거나 resolver에서 필요하지않은 필드의 값을 null로 주고 api 통신을 진행할 수도 있다. 지금까지 만든 스키마 파일들을 GraphQLServer 객체로 전달하기에 적절한 형태로 융합하고 정제하는 <em>‘schema.ts’</em> 를 만들자.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">workspace/backend/src&gt; touch schema.ts</span><br></pre></td></tr></table></figure>
<h4 id="schema-ts"><a href="#schema-ts" class="headerlink" title="schema.ts"></a>schema.ts</h4><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">import</span> &#123; fileLoader, mergeResolvers, mergeTypes &#125; <span class="keyword">from</span> <span class="string">&quot;merge-graphql-schemas&quot;</span></span><br><span class="line"><span class="keyword">import</span> &#123; makeExecutableSchema &#125; <span class="keyword">from</span> <span class="string">&quot;graphql-tools&quot;</span></span><br><span class="line"><span class="keyword">import</span> path <span class="keyword">from</span> <span class="string">&quot;path&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="attr">allTypes</span>: <span class="built_in">any</span> = <span class="title function_">fileLoader</span>(path.<span class="title function_">join</span>(__dirname, <span class="string">&quot;./api/**/*.graphql&quot;</span>));</span><br><span class="line"><span class="comment">// type 관련 파일들을 가져옴.</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="attr">allResolvers</span>: <span class="built_in">any</span> = <span class="title function_">fileLoader</span>(path.<span class="title function_">join</span>(__dirname, <span class="string">&quot;./api/**/*.resolvers.*&quot;</span>));</span><br><span class="line"><span class="comment">// resolver 관련 파일들을 가져옴.</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> mergedTypes = <span class="title function_">mergeTypes</span>(allTypes);</span><br><span class="line"><span class="keyword">const</span> <span class="attr">mergedResolvers</span>: <span class="built_in">any</span> = <span class="title function_">mergeResolvers</span>(allResolvers);</span><br><span class="line"><span class="comment">// 가져온 type, resolver 들을 가지고 무언가 작업을 해주는 것 같은데 잘 모르겠다.</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> schema = <span class="title function_">makeExecutableSchema</span>(&#123;</span><br><span class="line">    <span class="attr">typeDefs</span>: mergedTypes,</span><br><span class="line">    <span class="attr">resolvers</span>: mergedResolvers</span><br><span class="line">&#125;);</span><br><span class="line"><span class="comment">// type, resolver를 가지고 schema를 구성한다.</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> schema;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p><em>‘index.ts’</em> 파일에서 기존에 작업해두었던 샘플 type, resolver는 지우고 위 schema.ts에서 만들어진 schema 정보를 사용할 수 있도록 구성해보자.</p>
<h4 id="index-ts-1"><a href="#index-ts-1" class="headerlink" title="index.ts"></a>index.ts</h4><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">import</span> &#123; <span class="title class_">GraphQLServer</span> &#125; <span class="keyword">from</span> <span class="string">&quot;graphql-yoga&quot;</span></span><br><span class="line"><span class="keyword">import</span> connection <span class="keyword">from</span> <span class="string">&quot;./ormConfig&quot;</span></span><br><span class="line"><span class="keyword">import</span> schema <span class="keyword">from</span> <span class="string">&quot;./schema&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> server = <span class="keyword">new</span> <span class="title class_">GraphQLServer</span>(&#123; schema &#125;);</span><br><span class="line"><span class="comment">// schema.ts 에서 생성해서 export한 객체를 typeDefs, resolvers를 대신해서 파라미터로 넘겨주고 있다.</span></span><br><span class="line"></span><br><span class="line">connection.<span class="title function_">then</span>(<span class="function">() =&gt;</span></span><br><span class="line">    server.<span class="title function_">start</span>(<span class="function">() =&gt;</span> </span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;My first GraphQL Server is running on localhost:4000&#x27;</span>)</span><br><span class="line">    )</span><br><span class="line">);</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>나의 경우 schema 파라미터를 넘겨주었는데 타입이 안맞다는 문구와 함께 계속 에러메시지가 표출되었었는데 이러한 경우 <em>‘yarn’</em> 명령어를 통해 패키지를 업데이트 및 재설치를 진행해주면 개선된다</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">workspace/backend&gt; yarn</span><br></pre></td></tr></table></figure>
<p>지금까지 작업을 정리해보면 우리는 graphql를 위한 <em>‘type’</em> 즉 모델을 정의하고 이 모델들을 효율적으로 관리하기 위해 별도의 폴더로 분리. 그리고 마지막으로 그 분리된 graphql type 파일들을 <em>‘schema.ts’</em> 하나로 합쳐 <em>‘index.ts’</em> 파일에서 graphql 서버에 임시로 만들었던 typeDefs, resolver를 대신해서 넘겨주었다. 하나 명확히 이해해야하는 것은 위에에서도 언급했지만 <em>‘Channel’</em>, <em>‘Message’</em> 라는 두 모델이 현재 두 곳에서 관리되어 진다는 점이다.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">                    Graphql                 Typescript</span><br><span class="line"></span><br><span class="line">Channel             Channel.graphql         Channel.ts</span><br><span class="line"></span><br><span class="line">Message             Message.graphql         Message.ts</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>이 두 형태의 모델들은 각각 다른 역할을 가지고 있다. graphql의 확장자를 가지고 있는 <em>‘Channel.graphql’</em>, <em>‘Message.graphql’</em> 들은 graphql api를 만들기위해 사용되어졌고 ts 확장자를 가지고 있는 <em>‘Channel.ts’</em>, <em>‘Message.ts’</em> 들은 typescript가 이해할 수 있는 형태로 여기서는 typeORM이 엔티티를 생성할때 그 엔티티 정보를 주기 위해서 사용되어지고 있다.</p>
<h3 id="함수-동작-에-대한-타입-정의를-해보자"><a href="#함수-동작-에-대한-타입-정의를-해보자" class="headerlink" title="함수(동작)에 대한 타입 정의를 해보자."></a>함수(동작)에 대한 타입 정의를 해보자.</h3><p>우리는 이전까지 만들었던 <em>‘Channel.ts’</em>, <em>‘Message.ts’</em>, <em>‘Channel.graphql’</em>, <em>‘Message.graphql’</em> 들은 모두 모델에 대한 정의 즉 데이터의 형태에 대한 정의이다. 이제는 실제 api라고 불릴만한 함수에 관한 타입들을 만들어보자. 위에서 모델을 위한 타입들이 <em>‘graphql’</em> 을 위한 것, <em>‘typescript’</em> 두 종류로 나뉘어졌던것 처럼 함수에 대한 타입들도 <em>‘graphql’</em> 을 위한 것, <em>‘typescript’</em> 를 위한 것으로 나누어야한다. 그러나 분명하게 다른 점은 모델은 이 두가지를 위해 코드를 작성해야 했지만 함수를 위한 타입들은 <em>‘graphql’</em> 과 관련된 코드만 만들어내고 <em>‘graphql-to-typescript’</em> 패키지를 통해서 <em>‘typescript’</em> 관련된 코드들을 자동으로 생성시킬 것이다. 그렇다면 이 변환된 ts 파일을 가지고 resolvers.ts 파일에서 비지니스 로직을 구성할 수 있다.</p>
<h4 id="함수-동작-타입을-구현하기-위한-순서"><a href="#함수-동작-타입을-구현하기-위한-순서" class="headerlink" title="함수(동작) 타입을 구현하기 위한 순서"></a>함수(동작) 타입을 구현하기 위한 순서</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">1. resolvers 공통 인터페이스 &#x27;Resolver&#x27; 생성</span><br><span class="line"></span><br><span class="line">2. 필요한 폴더 및 파일 생성</span><br><span class="line"></span><br><span class="line">3. 함수 타입 변환을 위해 &#x27;gql-merge&#x27;, &#x27;graphql-to-typescript&#x27; 패키지 설치 </span><br><span class="line"></span><br><span class="line">4. 함수 타입 변환을 위한 &#x27;package.json&#x27;의 &#x27;script&#x27; 부분 수정</span><br><span class="line"></span><br><span class="line">5. 함수 타입 정의</span><br><span class="line"></span><br><span class="line">6. &#x27;gql-merge&#x27;, &#x27;graphql-to-typescript&#x27; 를 활용하여 typescript 함수 타입 생성</span><br><span class="line"></span><br><span class="line">7. 변환된 typescript 함수 타입을 활용하여 resolvers 영역에 비지니스 코드 생성.</span><br><span class="line"></span><br><span class="line">8. graphql 실행 및 api 테스트</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h3 id="1-resolvers-공통-인터페이스-‘Resolver’-생성"><a href="#1-resolvers-공통-인터페이스-‘Resolver’-생성" class="headerlink" title="1. resolvers 공통 인터페이스 ‘Resolver’ 생성"></a>1. resolvers 공통 인터페이스 ‘Resolver’ 생성</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">workspace/src&gt; mkdir types</span><br><span class="line"></span><br><span class="line">workspace/src/types&gt; touch resolvers.d.ts</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>resolvers를 정의할 때 필요한 무언가라고 했었는데 명확히 이해하지는 못했다 다시 물어봐야할듯.</p>
<h4 id="resolvers-d-ts"><a href="#resolvers-d-ts" class="headerlink" title="resolvers.d.ts"></a>resolvers.d.ts</h4><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">type</span> <span class="title class_">Resolver</span> = <span class="function">(<span class="params">parent: <span class="built_in">any</span>, args: <span class="built_in">any</span>, context: <span class="built_in">any</span>, info: <span class="built_in">any</span></span>) =&gt;</span> <span class="built_in">any</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">interface</span> <span class="title class_">Resolvers</span> &#123;</span><br><span class="line">  [<span class="attr">key</span>: <span class="built_in">string</span>]: &#123;</span><br><span class="line">    [<span class="attr">key</span>: <span class="built_in">string</span>]: <span class="title class_">Resolver</span>;</span><br><span class="line">  &#125;;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h3 id="2-필요한-폴더-및-파일-생성"><a href="#2-필요한-폴더-및-파일-생성" class="headerlink" title="2. 필요한 폴더 및 파일 생성"></a>2. 필요한 폴더 및 파일 생성</h3><p>아래의 폴더와 파일들을 만들어보자. <em>‘schema.graphql’</em> 파일은 우리가 손수 정의한 함수 타입들을 총괄하여 저장하는 파일이며 <em>‘graphql.d.ts’</em> 파일은 이 <em>‘schema.graphql’</em> 파일을 입력으로하여 typescript를 위해 변환된 함수 타입을 저장하는 파일이다.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">workspace/backend&gt; touch schema.graphql</span><br><span class="line"></span><br><span class="line">workspace/backend/types&gt; touch graphql.d.ts</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h3 id="3-함수-타입-변환을-위해-‘gql-merge’-‘graphql-to-typescript’-패키지-설치"><a href="#3-함수-타입-변환을-위해-‘gql-merge’-‘graphql-to-typescript’-패키지-설치" class="headerlink" title="3. 함수 타입 변환을 위해 ‘gql-merge’, ‘graphql-to-typescript’ 패키지 설치"></a>3. 함수 타입 변환을 위해 ‘gql-merge’, ‘graphql-to-typescript’ 패키지 설치</h3><p>typescript를 위한 각 함수 타입들을 자동 생성 및 변환하기 위해서 아래의 패키지를 설치한다. <em>‘graphql-to-typescript’</em> 패키지는 이미 설치되어있을수도 있다. 정확히는 <em>‘gql-merge’</em> 를 통해 분산되어있던 함수타입 파일들을 하나의 파일(<em>‘schema.graphql’</em>)에 통합시킬 수 있으며 <em>‘graphql-to-typescript’</em>를 통해 <em>‘.graphql’</em> 로 정의되어있던 함수타입을 <em>‘.ts’</em> 으로 변환하여 <em>‘graphql.d.ts’</em> 파일에 저장한다.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">workspace/backend&gt; npm install gql-merge graphql-to-typescript</span><br></pre></td></tr></table></figure>
<h3 id="4-함수-타입-변환을-위한-‘package-json’의-‘script’-부분-수정"><a href="#4-함수-타입-변환을-위한-‘package-json’의-‘script’-부분-수정" class="headerlink" title="4. 함수 타입 변환을 위한 ‘package.json’의 ‘script’ 부분 수정"></a>4. 함수 타입 변환을 위한 ‘package.json’의 ‘script’ 부분 수정</h3><p><em>‘gql-merge’</em> 패키지외 <em>‘graphql-to-typescript’</em> 패키지는 node script 기능을 활용하여 실행할 수 있다. <em>‘package.json’</em> scripts 부분을 아래와 같이 변경하자.</p>
<h4 id="package-json-1"><a href="#package-json-1" class="headerlink" title="package.json"></a>package.json</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">...</span><br><span class="line"></span><br><span class="line">&quot;scripts&quot;: &#123;</span><br><span class="line">  &quot;dev&quot;: &quot;cd src &amp;&amp; nodemon --exec ts-node index.ts -e ts,graphql&quot;,</span><br><span class="line">  &quot;predev&quot;: &quot;yarn run types&quot;,</span><br><span class="line">  &quot;types&quot;: &quot;graphql-to-typescript ./src/schema.graphql ./src/types/graphql.d.ts&quot;,</span><br><span class="line">  &quot;pretypes&quot;: &quot;gql-merge --out-file ./src/schema.graphql ./src/api/**/*.graphql&quot;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">...</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>node script의 특성 중에 하나는 앞이 <em>‘pre-‘</em> 가 붙은 스크립트들은 같은 이름을 가진 스크립트 보다 먼저 실행시킬 수 있다. 위 스크립트를 해석해보면  <em>‘dev’</em> 스크립트를 실행하기 이전에 <em>‘predev’</em>가 실행되고 이 스크립트에 따라서 <em>‘types’</em> 스크립트가 실행된다. <em>‘types’</em> 스크립트도 같은 원리에 따라 <em>‘pretypes’</em> 가 먼저 실행되어 우리가 만들었던 <em>‘graphql’</em>를 위한 타입들이 <em>‘schema.graphql’</em> 파일에 합쳐지고 정리된다. 그리고 <em>‘types’</em> 에서 <em>‘schema.graphql’</em> 에 정의되어진 타입들을 <em>‘typescript’</em> 를 위한 타입들로 변환한다. 이 변환된 타입들은 <em>‘./src/types/graphql.d.ts’</em> 파일 안에 저장된다.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">scripts 실행 순서</span><br><span class="line"></span><br><span class="line">1. &quot;predev&quot; : &quot;types&quot; 스크립트를 실행한다.</span><br><span class="line"></span><br><span class="line">2. &quot;pretypes&quot; : &#x27;.graphql&#x27; 형태의 타입들을 &#x27;schema.graphql&#x27;파일에 통합 저장한다.</span><br><span class="line"></span><br><span class="line">3. &quot;types&quot; : 타입들이 통합 저장되어진 &#x27;schema.graphql&#x27;파일을 활용해 함수 타입들을 typescript 형태로 변환하고 이들을 &#x27;graphql.d.ts&#x27;에 저장한다.</span><br><span class="line"></span><br><span class="line">4. &quot;dev&quot; : 서버가 실행된다.</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h3 id="5-함수-타입-정의"><a href="#5-함수-타입-정의" class="headerlink" title="5. 함수 타입 정의"></a>5. 함수 타입 정의</h3><p>함수 타입을 생성할 준비가 되었다 이번에는 메시지를 가져오는 동작을 하는 <em>‘GetMessages’</em>  api 함수를 만들어보자. 우선 이를 위한 폴더 및 파일를 만든다.</p>
<h4 id="GetMessages"><a href="#GetMessages" class="headerlink" title="GetMessages."></a>GetMessages.</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">workspace/backend/src/api/Message&gt; mkdir GetMessages</span><br><span class="line"></span><br><span class="line">workspace/backend/src/api/Message/GetMessages&gt; touch GetMessages.graphql</span><br><span class="line"></span><br><span class="line">workspace/backend/src/api/Message/GetMessages&gt; touch GetMessages.resolvers.ts</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p><em>‘.graphql’</em> 형태의 <em>‘GetMessages’</em> 동작의 타입을 지정하자. </p>
<h4 id="GetMessages-graphql"><a href="#GetMessages-graphql" class="headerlink" title="GetMessages.graphql"></a>GetMessages.graphql</h4><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">type</span> <span class="title class_">GetMessagesResponse</span> &#123;</span><br><span class="line">    ok : <span class="title class_">Boolean</span>!</span><br><span class="line">    error : <span class="title class_">String</span></span><br><span class="line">    messages : [<span class="title class_">Message</span>]</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> <span class="title class_">Query</span> &#123;</span><br><span class="line">    <span class="title class_">GetMessages</span>(<span class="attr">innerChannelId</span>: <span class="title class_">Int</span>!) : <span class="title class_">GetMessagesResponse</span>!</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p><em>‘GetMessages’</em> 함수 타입의 비지니스 로직은 <em>‘GetMessages.resolvers.ts’</em> 에서 구성한다. </p>
<h3 id="6-‘gql-merge’-‘graphql-to-typescript’-를-활용하여-typescript-함수-타입-생성"><a href="#6-‘gql-merge’-‘graphql-to-typescript’-를-활용하여-typescript-함수-타입-생성" class="headerlink" title="6. ‘gql-merge’, ‘graphql-to-typescript’ 를 활용하여 typescript 함수 타입 생성"></a>6. <em>‘gql-merge’</em>, <em>‘graphql-to-typescript’</em> 를 활용하여 typescript 함수 타입 생성</h3><p>위에서 정의한 스크립트를 활용하여 <em>‘schema.graphql’</em> 파일에 각 타입들을 통합시키고 <em>‘graphql.d.ts’</em> 파일에 typescript를 위한 함수 타입을 만들어내자.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">workspace/backend&gt; yarn types</span><br></pre></td></tr></table></figure>
<h3 id="7-변환된-typescript-함수-타입을-활용하여-‘GetMessages-resolvers-ts’-영역에-비지니스-코드-생성"><a href="#7-변환된-typescript-함수-타입을-활용하여-‘GetMessages-resolvers-ts’-영역에-비지니스-코드-생성" class="headerlink" title="7. 변환된 typescript 함수 타입을 활용하여 ‘GetMessages.resolvers.ts’ 영역에 비지니스 코드 생성."></a>7. 변환된 typescript 함수 타입을 활용하여 <em>‘GetMessages.resolvers.ts’</em> 영역에 비지니스 코드 생성.</h3><p>변환된 함수 타입을 활용하여 <em>‘GetMessages.resolvers.ts’</em> 안에 비즈니스 코드를 작성한다. 해당 형태는 거의 유사하며 눈에 익혀두거나 코드를 복사해두어 다른 함수 타입들을 생성할 때에도 활용하자.</p>
<h4 id="GetMessages-reseolvers-ts"><a href="#GetMessages-reseolvers-ts" class="headerlink" title="GetMessages.reseolvers.ts"></a>GetMessages.reseolvers.ts</h4><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">import</span> &#123; <span class="title class_">Resolvers</span> &#125; <span class="keyword">from</span> <span class="string">&quot;src/types/resolvers&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 상대경로로 사용해야함 (절대경로로는 파일을 못찾음)</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">Message</span> <span class="keyword">from</span> <span class="string">&quot;../../../../src/entities/Message&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 아래 쿼리 구조는 graphQL에서 정해놓은 규격</span></span><br><span class="line"><span class="keyword">const</span> <span class="attr">resolvers</span>: <span class="title class_">Resolvers</span> = &#123;</span><br><span class="line">    <span class="title class_">Query</span>: &#123;</span><br><span class="line">        <span class="title class_">GetMessages</span>: <span class="title function_">async</span>(_, args) =&gt; &#123;</span><br><span class="line">            <span class="comment">// GetMessages 라는 동작에 대한 비즈니스 로직 (Spring의 Controller와 유사)</span></span><br><span class="line">            <span class="comment">// 사용자가 API를 호출했을때 인자값이 args 안으로 들어온다.</span></span><br><span class="line"></span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                <span class="keyword">const</span> &#123;innerChannelId&#125; = args; </span><br><span class="line">                <span class="comment">// = const innerChannelId = args.innerChannerId;</span></span><br><span class="line">                <span class="comment">// Message (typeORM) 을 사용하여 쿼리 메소드를 실행할 수 있음</span></span><br><span class="line">                <span class="comment">// innerChannelId와 일치하는 데이터를 조회해달라는 의미</span></span><br><span class="line"></span><br><span class="line">                <span class="keyword">const</span> messages = <span class="keyword">await</span> <span class="title class_">Message</span>.<span class="title function_">find</span>(&#123;innerChannelId&#125;);</span><br><span class="line">                <span class="comment">// await : 동기적으로 실행되고있으므로 데이터를 가져올때까지 기다려줘야해서 await 선언</span></span><br><span class="line">                <span class="comment">// &#123;innerChannelId&#125; =&gt;(동일) innerChannelId = innerChannelId</span></span><br><span class="line">                <span class="comment">// 리스트 조회 =select * from Message where innerChannelId = 0</span></span><br><span class="line">                </span><br><span class="line">                <span class="keyword">return</span> &#123;</span><br><span class="line">                    <span class="attr">ok</span>: <span class="literal">true</span>, <span class="comment">// 성공</span></span><br><span class="line">                    <span class="attr">error</span>: <span class="literal">null</span>, <span class="comment">// 성공했으므로 error는 null</span></span><br><span class="line">                    <span class="attr">messages</span>: messages <span class="comment">// 위 쿼리메소드를 통해 조회해온 데이터를 담음</span></span><br><span class="line">                &#125;</span><br><span class="line">            &#125; <span class="keyword">catch</span>(error) &#123;</span><br><span class="line">                <span class="keyword">return</span> &#123;</span><br><span class="line">                    <span class="attr">ok</span>: <span class="literal">false</span>, <span class="comment">// 에러 발생</span></span><br><span class="line">                    <span class="attr">error</span>: error.<span class="property">message</span>, <span class="comment">// js에서 지원해줌</span></span><br><span class="line">                    <span class="attr">messages</span>: <span class="literal">null</span> <span class="comment">// 에러가 발생하였으므로 messages는 비어있다</span></span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> resolvers;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h3 id="8-graphql-실행-및-api-테스트"><a href="#8-graphql-실행-및-api-테스트" class="headerlink" title="8. graphql 실행 및 api 테스트"></a>8. graphql 실행 및 api 테스트</h3><p>아래 명령어를 입력하고 위에서 만든 <em>‘GetMessages’</em> api가 정상적으로 작동하는지를 확인하자. 여기서 한가지 중요한 점은 이 api는 CRUD에 R의 기능을 함으로 Channel 테이블과 Message 테이블이 각각 튜플을 직접 생성을 해야 테스트가 정상작동한다.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">workspace/backend&gt; yarn dev</span><br></pre></td></tr></table></figure>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">#### GetMessages() API</span><br><span class="line"></span><br><span class="line">&#123; </span><br><span class="line">  GetMessages(innerChannelId : 1) &#123; </span><br><span class="line">    ok </span><br><span class="line">    error </span><br><span class="line">    messages &#123; contents &#125; </span><br><span class="line">  &#125; </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h3 id="‘CreateChannel’-함수-타입을-만들어보자"><a href="#‘CreateChannel’-함수-타입을-만들어보자" class="headerlink" title="‘CreateChannel’ 함수 타입을 만들어보자."></a><em>‘CreateChannel’</em> 함수 타입을 만들어보자.</h3><p>함수타입을 만들고 이를 api화 하는 과정은 <em>‘GetMessages’</em> 와 유사함으로 상세한 설명은 생략하겠다. <br><br> <em>‘CreateChannel’</em>()는 새로운 채널을 만드는 api이다 <em>‘CreateChannel’</em> 에 필요한 폴더 및 파일들을 만든다.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">workspace/backend/src/api/Channel&gt; mkdir CreateChannel</span><br><span class="line"></span><br><span class="line">workspace/backend/src/api/Channel&gt; touch CreateChannel.graphql</span><br><span class="line"></span><br><span class="line">workspace/backend/src/api/Channel&gt; touch CreateChannel.resolvers.ts</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p><em>‘CreateChannel’</em> 함수 타입을 정의한다.</p>
<h4 id="CreateChannel-graphql"><a href="#CreateChannel-graphql" class="headerlink" title="CreateChannel.graphql"></a>CreateChannel.graphql</h4><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">type</span> <span class="title class_">CreateChannelResponse</span> &#123;</span><br><span class="line">    <span class="attr">ok</span>: <span class="title class_">Boolean</span>!</span><br><span class="line">    <span class="attr">error</span>: <span class="title class_">String</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> <span class="title class_">Mutation</span> &#123;</span><br><span class="line">    <span class="title class_">CreateChannel</span>(<span class="attr">channelName</span>: <span class="title class_">String</span>!):<span class="title class_">CreateChannelResponse</span>!</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p><em>‘gql-merge’</em>, <em>‘graphql-to-typescript’</em> 를 활용하여 typescript 함수 타입 생성한다.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">workspace/backend&gt; yarn types</span><br></pre></td></tr></table></figure>
<p>변환된 typescript 함수 타입을 활용하여 <em>‘CreateChannel.resolvers.ts’</em> 영역에 비지니스 코드 생성한다.</p>
<h4 id="CreateChannel-resolvers-ts"><a href="#CreateChannel-resolvers-ts" class="headerlink" title="CreateChannel.resolvers.ts"></a>CreateChannel.resolvers.ts</h4><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">import</span> &#123; <span class="title class_">Resolvers</span> &#125; <span class="keyword">from</span> <span class="string">&quot;src/types/resolvers&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> &#123; <span class="title class_">CreateChannelMutationArgs</span>, <span class="title class_">CreateChannelResponse</span> &#125; <span class="keyword">from</span> <span class="string">&quot;../../../../src/types/graphql&quot;</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">Channel</span> <span class="keyword">from</span> <span class="string">&quot;../../../../src/entities/Channel&quot;</span>;</span><br><span class="line"><span class="comment">// 상대경로로 사용해야함 (절대경로로는 파일을 못찾음)</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="attr">resolvers</span>:<span class="title class_">Resolvers</span> = &#123;</span><br><span class="line">    <span class="title class_">Mutation</span>: &#123;</span><br><span class="line">        <span class="comment">// args는 channel name.</span></span><br><span class="line">        <span class="title class_">CreateChannel</span>: <span class="title function_">async</span>(_, <span class="attr">args</span>: <span class="title class_">CreateChannelMutationArgs</span>):<span class="title class_">Promise</span>&lt;<span class="title class_">CreateChannelResponse</span>&gt; =&gt; &#123;</span><br><span class="line">            <span class="comment">// GetMessages 라는 동작에 대한 비즈니스 로직 (Spring의 Controller와 유사)</span></span><br><span class="line">            <span class="comment">// 사용자가 API를 호출했을때 인자값이 args 안으로 들어온다.</span></span><br><span class="line"></span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                <span class="keyword">const</span> &#123; channelName &#125; = args;</span><br><span class="line">                <span class="comment">// const &#123; channelName &#125; = args.channelName;</span></span><br><span class="line"></span><br><span class="line">                <span class="keyword">const</span> existChannel = <span class="keyword">await</span> <span class="title class_">Channel</span>.<span class="title function_">findOne</span>(&#123; channelName &#125;);</span><br><span class="line">                <span class="comment">// Message (typeORM) 을 사용하여 쿼리 메소드를 실행할 수 있음</span></span><br><span class="line">                <span class="comment">// await : 동기적으로 실행되고있으므로 데이터를 가져올때까지 기다리기 위함.</span></span><br><span class="line">                <span class="comment">// &#x27;channelName&#x27; 일치하는 데이터를 조회해달라는 의미</span></span><br><span class="line">                <span class="comment">// findOne()은 SELECT Query와 유사하며 한가지의 튜플만 가져온다.</span></span><br><span class="line"></span><br><span class="line">                <span class="keyword">if</span>(existChannel) &#123;</span><br><span class="line">                    <span class="keyword">return</span> &#123;</span><br><span class="line">                        <span class="attr">ok</span>: <span class="literal">false</span>,</span><br><span class="line">                        <span class="attr">error</span>: <span class="string">&quot;이미 존재하는 채널입니다.&quot;</span></span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="comment">// 채널이름이 중복될 경우 채널을 새로이 만들지 않기위함</span></span><br><span class="line"></span><br><span class="line">                <span class="keyword">await</span> <span class="title class_">Channel</span>.<span class="title function_">create</span>(&#123;channelName&#125;).<span class="title function_">save</span>();</span><br><span class="line">                <span class="comment">// 채널은 새롭게 만드는 부분.</span></span><br><span class="line">                <span class="comment">// Create()는 INSERT Query와 유사하며 새로운 튜플을 생성할 수 있다.</span></span><br><span class="line">                <span class="comment">// 뒤의 save() 함수를 호출하여야 실제 데이터베이스에 생겨남 COMMIT 개념같음.</span></span><br><span class="line"></span><br><span class="line">                <span class="keyword">return</span> &#123;</span><br><span class="line">                    <span class="attr">ok</span>: <span class="literal">true</span>,</span><br><span class="line">                    <span class="attr">error</span>: <span class="literal">null</span></span><br><span class="line">                &#125;</span><br><span class="line">                <span class="comment">// 성공했을 때의 응답 / &#x27;CreateChannelResponse&#x27;를 &#x27;gql-merge&#x27;를 활용해서 변환하여 얻어낸 타입.</span></span><br><span class="line">            </span><br><span class="line">            &#125; <span class="keyword">catch</span>(error) &#123;</span><br><span class="line">                <span class="keyword">return</span> &#123;</span><br><span class="line">                    <span class="attr">ok</span>: <span class="literal">false</span>,</span><br><span class="line">                    <span class="attr">error</span>: error.<span class="property">message</span></span><br><span class="line">                &#125;</span><br><span class="line">                <span class="comment">// 실패했을 때의 응답 / &#x27;CreateChannelResponse&#x27;를 &#x27;gql-merge&#x27;를 활용해서 변환하여 얻어낸 타입.</span></span><br><span class="line">            &#125; </span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> resolvers;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>아래 명령어를 통해 graphql 서버를 실행하고 및 api를 테스트해보자.</p>
<h4 id="서버-실행"><a href="#서버-실행" class="headerlink" title="서버 실행"></a>서버 실행</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">workspace/backend&gt; yarn dev</span><br></pre></td></tr></table></figure>
<h4 id="CreateChannel-API"><a href="#CreateChannel-API" class="headerlink" title="CreateChannel() API"></a>CreateChannel() API</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">mutation &#123;</span><br><span class="line">  CreateChannel(channelName: &quot;마블리게시판&quot;) &#123;</span><br><span class="line">    ok</span><br><span class="line">    error</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="‘SendMessage’-‘GetChannel’"><a href="#‘SendMessage’-‘GetChannel’" class="headerlink" title="‘SendMessage’, ‘GetChannel’"></a><em>‘SendMessage’</em>, <em>‘GetChannel’</em></h3><p>함수타입 즉 API를 만드는 방법은 위 <em>‘GetMessage’</em>, <em>‘CreateChannel’</em> 에서 적응했을 것이다. 이제 앞으로 필요한 두가지 <em>‘SendMessage’</em>, <em>‘GetChannel’</em> API를 만든다.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">workspace/backend/src/api/Message&gt; mkdir SendMessage</span><br><span class="line">workspace/backend/src/api/Message&gt; touch SendMessage.graphql</span><br><span class="line">workspace/backend/src/api/Message&gt; touch SendMessage.resolvers.ts</span><br><span class="line"></span><br><span class="line">workspace/backend/src/api/Channel&gt; mkdir GetChannel</span><br><span class="line">workspace/backend/src/api/Channel&gt; touch GetChannel.graphql</span><br><span class="line">workspace/backend/src/api/Channel&gt; touch GetChannel.resolvers.ts</span><br></pre></td></tr></table></figure>
<blockquote>
<p>윗 부분은 <em>‘SendMessage API’</em> 를 위한 파일들이며 아랫 부분은 <em>‘GetChannel API’</em> 를 위한 파일들이다. 아래는 각 파일들에 들어가야할 내용들이다.</p>
</blockquote>
<h4 id="SendMessage-graphql"><a href="#SendMessage-graphql" class="headerlink" title="SendMessage.graphql"></a>SendMessage.graphql</h4><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">type</span> <span class="title class_">SendMessageResponse</span> &#123;</span><br><span class="line">    <span class="attr">ok</span>: <span class="title class_">Boolean</span>!</span><br><span class="line">    <span class="attr">error</span>: <span class="title class_">String</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> <span class="title class_">Mutation</span> &#123;</span><br><span class="line">    <span class="title class_">SendMessage</span>(</span><br><span class="line">        <span class="attr">nickname</span>: <span class="title class_">String</span>!</span><br><span class="line">        <span class="attr">contents</span>: <span class="title class_">String</span>!</span><br><span class="line">        <span class="attr">thumbnail</span>: <span class="title class_">String</span>!</span><br><span class="line">        <span class="attr">innerChannelId</span>: <span class="title class_">Int</span>!</span><br><span class="line">    ): <span class="title class_">SendMessageResponse</span>!</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h4 id="GetChannel-graphql"><a href="#GetChannel-graphql" class="headerlink" title="GetChannel.graphql"></a>GetChannel.graphql</h4><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">type</span> <span class="title class_">GetChannelsResponse</span> &#123;</span><br><span class="line">    <span class="attr">ok</span>: <span class="title class_">Boolean</span>!</span><br><span class="line">    <span class="attr">error</span>: <span class="title class_">String</span></span><br><span class="line">    <span class="attr">channels</span>: [<span class="title class_">Channel</span>]</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> <span class="title class_">Query</span> &#123;</span><br><span class="line">    <span class="title class_">GetChannels</span>: <span class="title class_">GetChannelsResponse</span>!</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>위 두 파일에 내용을 채워준 후에 <em>yarn types</em> 명령어로 <em>typescript</em> 를 위한 타입을 생성한다. </p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">workspace/backend&gt; yarn types</span><br></pre></td></tr></table></figure>
<p>정상적으로 생성되었다면 <em>types/graphql.d.ts</em> 파일에 <em>‘SendMessage’</em>, <em>‘GetChannel’</em> 과 연관된 타입들이 생성되었을 것이다. 이제 <em>resolver</em> 안에 비지니스 로직을 완성하자.</p>
<h4 id="SendMessage-resolvers-ts"><a href="#SendMessage-resolvers-ts" class="headerlink" title="SendMessage.resolvers.ts"></a>SendMessage.resolvers.ts</h4><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">import</span> &#123; <span class="title class_">Resolvers</span> &#125; <span class="keyword">from</span> <span class="string">&quot;src/types/resolvers&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="title class_">Channel</span> <span class="keyword">from</span> <span class="string">&quot;../../../../src/entities/Channel&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="title class_">Message</span> <span class="keyword">from</span> <span class="string">&quot;../../../../src/entities/Message&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> &#123; <span class="title class_">SendMessageMutationArgs</span>, <span class="title class_">SendMessageResponse</span> &#125; <span class="keyword">from</span> <span class="string">&quot;src/types/graphql&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="attr">resolvers</span>: <span class="title class_">Resolvers</span> = &#123;</span><br><span class="line">    <span class="title class_">Mutation</span>:&#123;</span><br><span class="line">        <span class="title class_">SendMessage</span>: <span class="title function_">async</span>(_, <span class="attr">args</span>:<span class="title class_">SendMessageMutationArgs</span>):<span class="title class_">Promise</span>&lt;<span class="title class_">SendMessageResponse</span>&gt; =&gt; &#123;</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                <span class="keyword">const</span> &#123;nickname, contents, thumbnail, innerChannelId &#125; = args;</span><br><span class="line">                <span class="comment">// args 파라미터에서 필요한 정보들을 가져온다.</span></span><br><span class="line"></span><br><span class="line">                <span class="keyword">const</span> isExistChannel = <span class="keyword">await</span> <span class="title class_">Channel</span>.<span class="title function_">findOne</span>(&#123;<span class="attr">id</span>: innerChannelId&#125;);</span><br><span class="line">                <span class="comment">// 메시지를 보내려는 채널이 존재하는 채널인지 확인하기 위해 findOne() 쿼리를 날린다.</span></span><br><span class="line">                <span class="comment">// findOne() 함수는 기존 DB에서 SELECT ... LIMIT 1 와 같은 쿼리로 봐도 무방하다.</span></span><br><span class="line"></span><br><span class="line">                <span class="keyword">if</span>(!isExistChannel) &#123;</span><br><span class="line">                    <span class="keyword">return</span> &#123;</span><br><span class="line">                        <span class="attr">ok</span>: <span class="literal">false</span>,</span><br><span class="line">                        <span class="attr">error</span>: <span class="string">&quot;채널이 존재하지 않습니다.&quot;</span></span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="comment">// 메시지를 보내려는 채널이 존재하지 않는 케이스를 위해 예외처리를 한다.</span></span><br><span class="line"></span><br><span class="line">                <span class="keyword">await</span> <span class="title class_">Message</span>.<span class="title function_">create</span>(&#123;</span><br><span class="line">                    nickname, </span><br><span class="line">                    thumbnail,</span><br><span class="line">                    contents,</span><br><span class="line">                    innerChannelId</span><br><span class="line">                &#125;).<span class="title function_">save</span>();</span><br><span class="line">                <span class="comment">// create() 함수는 기존 DB의 INSERT ... 쿼리 개념으로 봐도 무방하다.</span></span><br><span class="line">                <span class="comment">// save() 함수는 기존 DB의 commit 개념으로 보자.</span></span><br><span class="line"></span><br><span class="line">                <span class="keyword">return</span> &#123;</span><br><span class="line">                    <span class="attr">ok</span>: <span class="literal">true</span>,</span><br><span class="line">                    <span class="attr">error</span>: <span class="literal">null</span></span><br><span class="line">                &#125;</span><br><span class="line">                <span class="comment">// 최종적으로 INSERT가 잘 되었음을 알리기 위해 ok에 true를 주고 반환한다.</span></span><br><span class="line"></span><br><span class="line">            &#125; <span class="keyword">catch</span>(error) &#123;</span><br><span class="line">                <span class="keyword">return</span> &#123;</span><br><span class="line">                    <span class="attr">ok</span>: <span class="literal">false</span>,</span><br><span class="line">                    <span class="attr">error</span>: error.<span class="property">message</span></span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> resolvers;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h4 id="GetChannel-resolvers-ts"><a href="#GetChannel-resolvers-ts" class="headerlink" title="GetChannel.resolvers.ts"></a>GetChannel.resolvers.ts</h4><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">import</span> &#123; <span class="title class_">Resolvers</span> &#125; <span class="keyword">from</span> <span class="string">&quot;src/types/resolvers&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> &#123; <span class="title class_">GetChannelsResponse</span> &#125; <span class="keyword">from</span> <span class="string">&quot;src/types/graphql&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="title class_">Channel</span> <span class="keyword">from</span> <span class="string">&quot;../../../../src/entities/Channel&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="attr">resolvers</span>:<span class="title class_">Resolvers</span> = &#123;</span><br><span class="line">    <span class="title class_">Query</span>:&#123;</span><br><span class="line">        <span class="title class_">GetChannels</span>: <span class="keyword">async</span> (_, __):<span class="title class_">Promise</span>&lt;<span class="title class_">GetChannelsResponse</span>&gt; =&gt; &#123;</span><br><span class="line">            <span class="comment">// args 부분에 __ 값을 주고 있다.</span></span><br><span class="line">            <span class="comment">// 파라미터가 없을 때에는 위와 같이 처리하는 것 같다.</span></span><br><span class="line"></span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                <span class="keyword">const</span> channels = <span class="keyword">await</span> <span class="title class_">Channel</span>.<span class="title function_">find</span>();</span><br><span class="line">                <span class="comment">// find() 함수는 기존 RDB의 SELECT .... 와 유사하게 보자.</span></span><br><span class="line">                <span class="comment">// 채널목록을 가져와서 channels에 저장한다.</span></span><br><span class="line"></span><br><span class="line">                <span class="keyword">if</span>(!channels) &#123;</span><br><span class="line">                    <span class="keyword">return</span> &#123;</span><br><span class="line">                        <span class="attr">ok</span>: <span class="literal">true</span>,</span><br><span class="line">                        <span class="attr">error</span>: <span class="string">&quot;It&#x27;s empty&quot;</span>,</span><br><span class="line">                        <span class="attr">channels</span>: <span class="literal">null</span></span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="comment">//channels에 아무것도 없다면 channel이 하나도 생성되지 않았다고 예외처리한다.</span></span><br><span class="line"></span><br><span class="line">                <span class="keyword">return</span> &#123;</span><br><span class="line">                    <span class="attr">ok</span>: <span class="literal">true</span>,</span><br><span class="line">                    <span class="attr">error</span>: <span class="literal">null</span>,</span><br><span class="line">                    <span class="attr">channels</span>: channels</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="comment">//channels에 저장된 channel 목록들을 반환한다.</span></span><br><span class="line"></span><br><span class="line">            &#125; <span class="keyword">catch</span>(error) &#123;</span><br><span class="line">                <span class="keyword">return</span> &#123;</span><br><span class="line">                    <span class="attr">ok</span>: <span class="literal">false</span>,</span><br><span class="line">                    <span class="attr">error</span>: error.<span class="property">message</span>,</span><br><span class="line">                    <span class="attr">channels</span>: <span class="literal">null</span></span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> resolvers;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>새로 만둔 두 API가 잘 동작하는지 테스트하기 위해서 graphql 서버를 실행하자.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">workspace/backend&gt; yarn dev</span><br></pre></td></tr></table></figure>
<p><img src="/res/2020-1-19-postgresql_typeorm_typescript_graphql/13.png" alt=""></p>
<p><em>Graphql</em> 에서 사용하는 Query, Mutation 을 활용해 API를 요청해보자</p>
<h4 id="SendMessage-API"><a href="#SendMessage-API" class="headerlink" title="SendMessage API"></a>SendMessage API</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">mutation &#123; </span><br><span class="line">  SendMessage(</span><br><span class="line">    nickname: &quot;dev4us&quot;, </span><br><span class="line">    contents: &quot;하이염!&quot;, </span><br><span class="line">    thumbnail: &quot;1&quot;, </span><br><span class="line">    innerChannelId: 1</span><br><span class="line">  ) &#123;</span><br><span class="line">    ok</span><br><span class="line">    error </span><br><span class="line">  &#125; </span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p><img src="/res/2020-1-19-postgresql_typeorm_typescript_graphql/14.png" alt=""></p>
<p><img src="/res/2020-1-19-postgresql_typeorm_typescript_graphql/15.png" alt=""></p>
<h4 id="GetChannels-API"><a href="#GetChannels-API" class="headerlink" title="GetChannels API"></a>GetChannels API</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">&#123; </span><br><span class="line">  GetChannels&#123; </span><br><span class="line">    ok </span><br><span class="line">    error </span><br><span class="line">    channels&#123; </span><br><span class="line">      id </span><br><span class="line">      channelName </span><br><span class="line">    &#125; </span><br><span class="line">  &#125; </span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p><img src="/res/2020-1-19-postgresql_typeorm_typescript_graphql/16.png" alt=""></p>
<h3 id="Subscription"><a href="#Subscription" class="headerlink" title="Subscription"></a>Subscription</h3><p>Graphql에서 </p>

        </div>
        <footer class="article-footer">
            



    <a data-url="http://kidongyun.github.io/2020/01/19/2020-1-19-postgresql_typeorm_typescript_graphql/" data-id="cl3vrg7i800xhocwb26u90so6" class="article-share-link"><i class="fa fa-share"></i>Share</a>
<script>
    (function ($) {
        $('body').on('click', function() {
            $('.article-share-box.on').removeClass('on');
        }).on('click', '.article-share-link', function(e) {
            e.stopPropagation();

            var $this = $(this),
                url = $this.attr('data-url'),
                encodedUrl = encodeURIComponent(url),
                id = 'article-share-box-' + $this.attr('data-id'),
                offset = $this.offset(),
                box;

            if ($('#' + id).length) {
                box = $('#' + id);

                if (box.hasClass('on')){
                    box.removeClass('on');
                    return;
                }
            } else {
                var html = [
                    '<div id="' + id + '" class="article-share-box">',
                        '<input class="article-share-input" value="' + url + '">',
                        '<div class="article-share-links">',
                            '<a href="https://twitter.com/intent/tweet?url=' + encodedUrl + '" class="article-share-twitter" target="_blank" title="Twitter"></a>',
                            '<a href="https://www.facebook.com/sharer.php?u=' + encodedUrl + '" class="article-share-facebook" target="_blank" title="Facebook"></a>',
                            '<a href="http://pinterest.com/pin/create/button/?url=' + encodedUrl + '" class="article-share-pinterest" target="_blank" title="Pinterest"></a>',
                            '<a href="https://plus.google.com/share?url=' + encodedUrl + '" class="article-share-google" target="_blank" title="Google+"></a>',
                        '</div>',
                    '</div>'
                ].join('');

              box = $(html);

              $('body').append(box);
            }

            $('.article-share-box.on').hide();

            box.css({
                top: offset.top + 25,
                left: offset.left
            }).addClass('on');

        }).on('click', '.article-share-box', function (e) {
            e.stopPropagation();
        }).on('click', '.article-share-box-input', function () {
            $(this).select();
        }).on('click', '.article-share-box-link', function (e) {
            e.preventDefault();
            e.stopPropagation();

            window.open(this.href, 'article-share-box-window-' + Date.now(), 'width=500,height=450');
        });
    })(jQuery);
</script>

        </footer>
    </div>
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "BlogPosting",
        "author": {
            "@type": "Person",
            "name": "John Doe"
        },
        "headline": "Let&#39;s configure the environment of Postgresql + TypeORM + Typescript + Graphql",
        "image": "http://kidongyun.github.io/res/2020-1-19-postgresql_typeorm_typescript_graphql/1.png",
        "keywords": "Typescript Graphql",
        "genre": "Devlog",
        "datePublished": "2020-01-19",
        "dateCreated": "2020-01-19",
        "dateModified": "2022-05-31",
        "url": "http://kidongyun.github.io/2020/01/19/2020-1-19-postgresql_typeorm_typescript_graphql/",
        "description": "postgresql + typeORM + typescript + graphql 활용한 Backend 구성하기typescript + graphql.backend 폴더 생성하자.백엔드 서비스를 위한 루트 디렉토리를 만들자. 이름은 ‘backend’ 이다.
1workspace&gt; mkdir backend
package.json 파일 생성하자.백엔드 디렉토리 ",
        "wordCount": 10359
    }
</script>

</article>

    <section id="comments">
    
        
    <div id="disqus_thread">
        <noscript>Please enable JavaScript to view the <a target="_blank" rel="noopener" href="//disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
    </div>


    
    </section>



                        </div>
                    </section>
                    <aside id="sidebar">
    <a class="sidebar-toggle" title="Expand Sidebar"><i class="toggle icon"></i></a>
    <div class="sidebar-top">
        <p>follow:</p>
        <ul class="social-links">
            
                
                <li>
                    <a class="social-tooltip" title="twitter" href="/" target="_blank" rel="noopener">
                        <i class="icon fa fa-twitter"></i>
                    </a>
                </li>
                
            
                
                <li>
                    <a class="social-tooltip" title="facebook" href="/" target="_blank" rel="noopener">
                        <i class="icon fa fa-facebook"></i>
                    </a>
                </li>
                
            
                
                <li>
                    <a class="social-tooltip" title="stack-overflow" href="/" target="_blank" rel="noopener">
                        <i class="icon fa fa-stack-overflow"></i>
                    </a>
                </li>
                
            
                
                <li>
                    <a class="social-tooltip" title="github" href="https://github.com/ppoffice/hexo-theme-hueman" target="_blank" rel="noopener">
                        <i class="icon fa fa-github"></i>
                    </a>
                </li>
                
            
                
                <li>
                    <a class="social-tooltip" title="weibo" href="/" target="_blank" rel="noopener">
                        <i class="icon fa fa-weibo"></i>
                    </a>
                </li>
                
            
                
                <li>
                    <a class="social-tooltip" title="rss" href="/" target="_blank" rel="noopener">
                        <i class="icon fa fa-rss"></i>
                    </a>
                </li>
                
            
        </ul>
    </div>
    
        
<nav id="article-nav">
    
        <a href="/2020/01/26/2020-1-26-spring-mybatis-oracle-java-config/" id="article-nav-newer" class="article-nav-link-wrap">
        <strong class="article-nav-caption">newer</strong>
        <p class="article-nav-title">
        
            To build the Spring + Mybatis + Oracle using Java configuration without XML
        
        </p>
        <i class="icon fa fa-chevron-right" id="icon-chevron-right"></i>
    </a>
    
    
        <a href="/2020/01/12/2020-1-12-overview-test-code/" id="article-nav-older" class="article-nav-link-wrap">
        <strong class="article-nav-caption">older</strong>
        <p class="article-nav-title">Overview of the Test Code</p>
        <i class="icon fa fa-chevron-left" id="icon-chevron-left"></i>
        </a>
    
</nav>

    
    <div class="widgets-container">
        
            
                

            
                
    <div class="widget-wrap">
        <h3 class="widget-title">recents</h3>
        <div class="widget">
            <ul id="recent-post" class="">
                
                    <li>
                        
                        <div class="item-thumbnail">
                            <a href="/2022/05/31/2022-05-31-todo-june-2022/" class="thumbnail">
    
    
        <span class="thumbnail-image thumbnail-none"></span>
    
    
</a>

                        </div>
                        
                        <div class="item-inner">
                            <p class="item-category"><a class="article-category-link" href="/categories/Todo/">Todo</a></p>
                            <p class="item-title"><a href="/2022/05/31/2022-05-31-todo-june-2022/" class="title">Todo in 2022 June</a></p>
                            <p class="item-date"><time datetime="2022-05-31T02:38:54.000Z" itemprop="datePublished">2022-05-31</time></p>
                        </div>
                    </li>
                
                    <li>
                        
                        <div class="item-thumbnail">
                            <a href="/2022/05/21/2022-05-21-cheat-engine/" class="thumbnail">
    
    
        <span class="thumbnail-image thumbnail-none"></span>
    
    
</a>

                        </div>
                        
                        <div class="item-inner">
                            <p class="item-category"><a class="article-category-link" href="/categories/Devlog/">Devlog</a></p>
                            <p class="item-title"><a href="/2022/05/21/2022-05-21-cheat-engine/" class="title">Cheate Engine</a></p>
                            <p class="item-date"><time datetime="2022-05-21T02:38:54.000Z" itemprop="datePublished">2022-05-21</time></p>
                        </div>
                    </li>
                
                    <li>
                        
                        <div class="item-thumbnail">
                            <a href="/2022/05/15/2022-05-15-kotest/" class="thumbnail">
    
    
        <span class="thumbnail-image thumbnail-none"></span>
    
    
</a>

                        </div>
                        
                        <div class="item-inner">
                            <p class="item-category"><a class="article-category-link" href="/categories/Devlog/">Devlog</a></p>
                            <p class="item-title"><a href="/2022/05/15/2022-05-15-kotest/" class="title">Kotest</a></p>
                            <p class="item-date"><time datetime="2022-05-15T02:38:54.000Z" itemprop="datePublished">2022-05-15</time></p>
                        </div>
                    </li>
                
                    <li>
                        
                        <div class="item-thumbnail">
                            <a href="/2022/05/14/2022-05-14-docker-build/" class="thumbnail">
    
    
        <span class="thumbnail-image thumbnail-none"></span>
    
    
</a>

                        </div>
                        
                        <div class="item-inner">
                            <p class="item-category"><a class="article-category-link" href="/categories/Devlog/">Devlog</a></p>
                            <p class="item-title"><a href="/2022/05/14/2022-05-14-docker-build/" class="title">Docker build</a></p>
                            <p class="item-date"><time datetime="2022-05-14T02:38:54.000Z" itemprop="datePublished">2022-05-14</time></p>
                        </div>
                    </li>
                
                    <li>
                        
                        <div class="item-thumbnail">
                            <a href="/2022/05/14/2022-05-14-docker-compose/" class="thumbnail">
    
    
        <span class="thumbnail-image thumbnail-none"></span>
    
    
</a>

                        </div>
                        
                        <div class="item-inner">
                            <p class="item-category"><a class="article-category-link" href="/categories/Devlog/">Devlog</a></p>
                            <p class="item-title"><a href="/2022/05/14/2022-05-14-docker-compose/" class="title">Docker Compose commands</a></p>
                            <p class="item-date"><time datetime="2022-05-14T02:38:54.000Z" itemprop="datePublished">2022-05-14</time></p>
                        </div>
                    </li>
                
            </ul>
        </div>
    </div>

            
                
    <div class="widget-wrap widget-list">
        <h3 class="widget-title">categories</h3>
        <div class="widget">
            <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/Devlog/">Devlog</a><span class="category-list-count">217</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Service/">Service</a><span class="category-list-count">9</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Todo/">Todo</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Yunhwadngdng/">Yunhwadngdng</a><span class="category-list-count">1</span></li></ul>
        </div>
    </div>


            
                
    <div class="widget-wrap widget-list">
        <h3 class="widget-title">archives</h3>
        <div class="widget">
            <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/05/">May 2022</a><span class="archive-list-count">11</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/04/">April 2022</a><span class="archive-list-count">7</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/03/">March 2022</a><span class="archive-list-count">10</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/02/">February 2022</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/01/">January 2022</a><span class="archive-list-count">11</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/12/">December 2021</a><span class="archive-list-count">5</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/11/">November 2021</a><span class="archive-list-count">8</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/10/">October 2021</a><span class="archive-list-count">7</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/04/">April 2021</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/03/">March 2021</a><span class="archive-list-count">20</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/02/">February 2021</a><span class="archive-list-count">9</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/01/">January 2021</a><span class="archive-list-count">8</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/12/">December 2020</a><span class="archive-list-count">13</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/11/">November 2020</a><span class="archive-list-count">5</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/10/">October 2020</a><span class="archive-list-count">10</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/09/">September 2020</a><span class="archive-list-count">5</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/08/">August 2020</a><span class="archive-list-count">11</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/07/">July 2020</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/03/">March 2020</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/02/">February 2020</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/01/">January 2020</a><span class="archive-list-count">5</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/12/">December 2019</a><span class="archive-list-count">6</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/11/">November 2019</a><span class="archive-list-count">8</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/10/">October 2019</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/09/">September 2019</a><span class="archive-list-count">21</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/08/">August 2019</a><span class="archive-list-count">13</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/07/">July 2019</a><span class="archive-list-count">6</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/05/">May 2019</a><span class="archive-list-count">5</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/04/">April 2019</a><span class="archive-list-count">6</span></li></ul>
        </div>
    </div>


            
                
    <div class="widget-wrap widget-list">
        <h3 class="widget-title">tags</h3>
        <div class="widget">
            <ul class="tag-list" itemprop="keywords"><li class="tag-list-item"><a class="tag-list-link" href="/tags/A-O-P/" rel="tag">A.O.P</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/API/" rel="tag">API</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/AWS/" rel="tag">AWS</a><span class="tag-list-count">8</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Ableton/" rel="tag">Ableton</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Abstract-Class/" rel="tag">Abstract Class</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Adapter-Pattern/" rel="tag">Adapter Pattern</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Algorithm/" rel="tag">Algorithm</a><span class="tag-list-count">27</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Android/" rel="tag">Android</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Annotation/" rel="tag">Annotation</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Blog/" rel="tag">Blog</a><span class="tag-list-count">6</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Brew/" rel="tag">Brew</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Builder-Pattern/" rel="tag">Builder Pattern</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/CORS/" rel="tag">CORS</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Cache/" rel="tag">Cache</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Cheat-Engine/" rel="tag">Cheat Engine</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Cloud/" rel="tag">Cloud</a><span class="tag-list-count">5</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Computer-Architecture/" rel="tag">Computer Architecture</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Computer-Science/" rel="tag">Computer Science</a><span class="tag-list-count">6</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/ConfigurationProperties/" rel="tag">ConfigurationProperties</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Container/" rel="tag">Container</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Controller/" rel="tag">Controller</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Css/" rel="tag">Css</a><span class="tag-list-count">4</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/DI/" rel="tag">DI</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/DSL/" rel="tag">DSL</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Dart/" rel="tag">Dart</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Database/" rel="tag">Database</a><span class="tag-list-count">8</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Decompile/" rel="tag">Decompile</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Design-Pattern/" rel="tag">Design Pattern</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Docker/" rel="tag">Docker</a><span class="tag-list-count">4</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Docker-Compose/" rel="tag">Docker Compose</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Draft/" rel="tag">Draft</a><span class="tag-list-count">24</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/DslMarker/" rel="tag">DslMarker</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Dto/" rel="tag">Dto</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/EC2/" rel="tag">EC2</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Elastic-Search/" rel="tag">Elastic Search</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/ElasticSearch/" rel="tag">ElasticSearch</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Entity/" rel="tag">Entity</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Enum/" rel="tag">Enum</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Enum-Inheritance/" rel="tag">Enum Inheritance</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Excel/" rel="tag">Excel</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/ExceptionHandling/" rel="tag">ExceptionHandling</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/F-P/" rel="tag">F.P</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Facade-Pattern/" rel="tag">Facade Pattern</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Flutter/" rel="tag">Flutter</a><span class="tag-list-count">4</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Flyweight-Pattern/" rel="tag">Flyweight Pattern</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Functional-Programming/" rel="tag">Functional Programming</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/FunctionalInterface/" rel="tag">FunctionalInterface</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Git/" rel="tag">Git</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Git-Merge/" rel="tag">Git - Merge</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Git-Flow/" rel="tag">Git Flow</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Gitlab/" rel="tag">Gitlab</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/GraalVM/" rel="tag">GraalVM</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Gradle/" rel="tag">Gradle</a><span class="tag-list-count">6</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Graphql/" rel="tag">Graphql</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/HTTPS/" rel="tag">HTTPS</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/HandlerMapping/" rel="tag">HandlerMapping</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Hexo/" rel="tag">Hexo</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/High-Level-ElasticSearch/" rel="tag">High Level ElasticSearch</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Html/" rel="tag">Html</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Index/" rel="tag">Index</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Intellij/" rel="tag">Intellij</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Interview/" rel="tag">Interview</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Ionic/" rel="tag">Ionic</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/JPA/" rel="tag">JPA</a><span class="tag-list-count">4</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/JQuery/" rel="tag">JQuery</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/JUnit/" rel="tag">JUnit</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/JWT/" rel="tag">JWT</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Jackson/" rel="tag">Jackson</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Jad/" rel="tag">Jad</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Java/" rel="tag">Java</a><span class="tag-list-count">44</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Java-O-O-P/" rel="tag">Java - O.O.P</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Javascript/" rel="tag">Javascript</a><span class="tag-list-count">12</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Jekyll/" rel="tag">Jekyll</a><span class="tag-list-count">4</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Jira/" rel="tag">Jira</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Jmeter/" rel="tag">Jmeter</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Jpa/" rel="tag">Jpa</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Json/" rel="tag">Json</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Junit/" rel="tag">Junit</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Keyboard-Event/" rel="tag">Keyboard Event</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Kibana/" rel="tag">Kibana</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Kotest/" rel="tag">Kotest</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Kotlin/" rel="tag">Kotlin</a><span class="tag-list-count">6</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/LaTeX/" rel="tag">LaTeX</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Linux/" rel="tag">Linux</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Lombok/" rel="tag">Lombok</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/MSA/" rel="tag">MSA</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Mac/" rel="tag">Mac</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Machine-learning/" rel="tag">Machine learning</a><span class="tag-list-count">10</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Matcher/" rel="tag">Matcher</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Maven/" rel="tag">Maven</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Memory/" rel="tag">Memory</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Message-Queue/" rel="tag">Message Queue</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Monitoring/" rel="tag">Monitoring</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Mybatis/" rel="tag">Mybatis</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Mysql/" rel="tag">Mysql</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Network/" rel="tag">Network</a><span class="tag-list-count">8</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Node/" rel="tag">Node</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/O-O-P/" rel="tag">O.O.P</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Object/" rel="tag">Object</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Observer-Pattern/" rel="tag">Observer Pattern</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Operating-System/" rel="tag">Operating System</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Oracle/" rel="tag">Oracle</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Php/" rel="tag">Php</a><span class="tag-list-count">4</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Postgresql/" rel="tag">Postgresql</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Process/" rel="tag">Process</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Python/" rel="tag">Python</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/RDS/" rel="tag">RDS</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/RabbitMQ/" rel="tag">RabbitMQ</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/React/" rel="tag">React</a><span class="tag-list-count">6</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/React-Mobx/" rel="tag">React - Mobx</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Reactor/" rel="tag">Reactor</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Recording/" rel="tag">Recording</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Redis/" rel="tag">Redis</a><span class="tag-list-count">5</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Regression/" rel="tag">Regression</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Rest/" rel="tag">Rest</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Roofline/" rel="tag">Roofline</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/STT/" rel="tag">STT</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Sentry/" rel="tag">Sentry</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Serialize/" rel="tag">Serialize</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/SfDatePicker/" rel="tag">SfDatePicker</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Singleton-Pattern/" rel="tag">Singleton Pattern</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Spring/" rel="tag">Spring</a><span class="tag-list-count">56</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Spring-API-Response/" rel="tag">Spring - API - Response</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Spring-HttpClient/" rel="tag">Spring - HttpClient</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Spring-Batch/" rel="tag">Spring Batch</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Spring-Cloud/" rel="tag">Spring Cloud</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Spring-Security/" rel="tag">Spring Security</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Stub/" rel="tag">Stub</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Swagger/" rel="tag">Swagger</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/TCP/" rel="tag">TCP</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/TLS/" rel="tag">TLS</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Telnet/" rel="tag">Telnet</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Test/" rel="tag">Test</a><span class="tag-list-count">9</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Thread/" rel="tag">Thread</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Timestamp/" rel="tag">Timestamp</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Transaction/" rel="tag">Transaction</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Tunning/" rel="tag">Tunning</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Typescript/" rel="tag">Typescript</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/UDP/" rel="tag">UDP</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Validation/" rel="tag">Validation</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Vue/" rel="tag">Vue</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Web/" rel="tag">Web</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Webapp/" rel="tag">Webapp</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Webclient/" rel="tag">Webclient</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Webflux/" rel="tag">Webflux</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Webpack/" rel="tag">Webpack</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Xml/" rel="tag">Xml</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/interview/" rel="tag">interview</a><span class="tag-list-count">1</span></li></ul>
        </div>
    </div>


            
                
    <div class="widget-wrap widget-float">
        <h3 class="widget-title">tag cloud</h3>
        <div class="widget tagcloud">
            <a href="/tags/A-O-P/" style="font-size: 10.77px;">A.O.P</a> <a href="/tags/API/" style="font-size: 10px;">API</a> <a href="/tags/AWS/" style="font-size: 14.62px;">AWS</a> <a href="/tags/Ableton/" style="font-size: 10px;">Ableton</a> <a href="/tags/Abstract-Class/" style="font-size: 10px;">Abstract Class</a> <a href="/tags/Adapter-Pattern/" style="font-size: 10px;">Adapter Pattern</a> <a href="/tags/Algorithm/" style="font-size: 18.46px;">Algorithm</a> <a href="/tags/Android/" style="font-size: 10.77px;">Android</a> <a href="/tags/Annotation/" style="font-size: 10px;">Annotation</a> <a href="/tags/Blog/" style="font-size: 13.85px;">Blog</a> <a href="/tags/Brew/" style="font-size: 10px;">Brew</a> <a href="/tags/Builder-Pattern/" style="font-size: 10px;">Builder Pattern</a> <a href="/tags/CORS/" style="font-size: 10px;">CORS</a> <a href="/tags/Cache/" style="font-size: 10px;">Cache</a> <a href="/tags/Cheat-Engine/" style="font-size: 10px;">Cheat Engine</a> <a href="/tags/Cloud/" style="font-size: 13.08px;">Cloud</a> <a href="/tags/Computer-Architecture/" style="font-size: 10px;">Computer Architecture</a> <a href="/tags/Computer-Science/" style="font-size: 13.85px;">Computer Science</a> <a href="/tags/ConfigurationProperties/" style="font-size: 10px;">ConfigurationProperties</a> <a href="/tags/Container/" style="font-size: 10.77px;">Container</a> <a href="/tags/Controller/" style="font-size: 10.77px;">Controller</a> <a href="/tags/Css/" style="font-size: 12.31px;">Css</a> <a href="/tags/DI/" style="font-size: 10px;">DI</a> <a href="/tags/DSL/" style="font-size: 10px;">DSL</a> <a href="/tags/Dart/" style="font-size: 10.77px;">Dart</a> <a href="/tags/Database/" style="font-size: 14.62px;">Database</a> <a href="/tags/Decompile/" style="font-size: 10px;">Decompile</a> <a href="/tags/Design-Pattern/" style="font-size: 10px;">Design Pattern</a> <a href="/tags/Docker/" style="font-size: 12.31px;">Docker</a> <a href="/tags/Docker-Compose/" style="font-size: 10px;">Docker Compose</a> <a href="/tags/Draft/" style="font-size: 17.69px;">Draft</a> <a href="/tags/DslMarker/" style="font-size: 10px;">DslMarker</a> <a href="/tags/Dto/" style="font-size: 10px;">Dto</a> <a href="/tags/EC2/" style="font-size: 10px;">EC2</a> <a href="/tags/Elastic-Search/" style="font-size: 10.77px;">Elastic Search</a> <a href="/tags/ElasticSearch/" style="font-size: 10.77px;">ElasticSearch</a> <a href="/tags/Entity/" style="font-size: 10px;">Entity</a> <a href="/tags/Enum/" style="font-size: 10.77px;">Enum</a> <a href="/tags/Enum-Inheritance/" style="font-size: 10px;">Enum Inheritance</a> <a href="/tags/Excel/" style="font-size: 10px;">Excel</a> <a href="/tags/ExceptionHandling/" style="font-size: 10px;">ExceptionHandling</a> <a href="/tags/F-P/" style="font-size: 10px;">F.P</a> <a href="/tags/Facade-Pattern/" style="font-size: 10px;">Facade Pattern</a> <a href="/tags/Flutter/" style="font-size: 12.31px;">Flutter</a> <a href="/tags/Flyweight-Pattern/" style="font-size: 10px;">Flyweight Pattern</a> <a href="/tags/Functional-Programming/" style="font-size: 10px;">Functional Programming</a> <a href="/tags/FunctionalInterface/" style="font-size: 10px;">FunctionalInterface</a> <a href="/tags/Git/" style="font-size: 11.54px;">Git</a> <a href="/tags/Git-Merge/" style="font-size: 10px;">Git - Merge</a> <a href="/tags/Git-Flow/" style="font-size: 10px;">Git Flow</a> <a href="/tags/Gitlab/" style="font-size: 10px;">Gitlab</a> <a href="/tags/GraalVM/" style="font-size: 10px;">GraalVM</a> <a href="/tags/Gradle/" style="font-size: 13.85px;">Gradle</a> <a href="/tags/Graphql/" style="font-size: 10px;">Graphql</a> <a href="/tags/HTTPS/" style="font-size: 10px;">HTTPS</a> <a href="/tags/HandlerMapping/" style="font-size: 10px;">HandlerMapping</a> <a href="/tags/Hexo/" style="font-size: 11.54px;">Hexo</a> <a href="/tags/High-Level-ElasticSearch/" style="font-size: 10px;">High Level ElasticSearch</a> <a href="/tags/Html/" style="font-size: 10px;">Html</a> <a href="/tags/Index/" style="font-size: 10px;">Index</a> <a href="/tags/Intellij/" style="font-size: 10px;">Intellij</a> <a href="/tags/Interview/" style="font-size: 10px;">Interview</a> <a href="/tags/Ionic/" style="font-size: 10px;">Ionic</a> <a href="/tags/JPA/" style="font-size: 12.31px;">JPA</a> <a href="/tags/JQuery/" style="font-size: 10px;">JQuery</a> <a href="/tags/JUnit/" style="font-size: 10px;">JUnit</a> <a href="/tags/JWT/" style="font-size: 10px;">JWT</a> <a href="/tags/Jackson/" style="font-size: 10px;">Jackson</a> <a href="/tags/Jad/" style="font-size: 10px;">Jad</a> <a href="/tags/Java/" style="font-size: 19.23px;">Java</a> <a href="/tags/Java-O-O-P/" style="font-size: 10px;">Java - O.O.P</a> <a href="/tags/Javascript/" style="font-size: 16.92px;">Javascript</a> <a href="/tags/Jekyll/" style="font-size: 12.31px;">Jekyll</a> <a href="/tags/Jira/" style="font-size: 10.77px;">Jira</a> <a href="/tags/Jmeter/" style="font-size: 10px;">Jmeter</a> <a href="/tags/Jpa/" style="font-size: 10px;">Jpa</a> <a href="/tags/Json/" style="font-size: 10px;">Json</a> <a href="/tags/Junit/" style="font-size: 10px;">Junit</a> <a href="/tags/Keyboard-Event/" style="font-size: 10px;">Keyboard Event</a> <a href="/tags/Kibana/" style="font-size: 10px;">Kibana</a> <a href="/tags/Kotest/" style="font-size: 10px;">Kotest</a> <a href="/tags/Kotlin/" style="font-size: 13.85px;">Kotlin</a> <a href="/tags/LaTeX/" style="font-size: 10px;">LaTeX</a> <a href="/tags/Linux/" style="font-size: 10px;">Linux</a> <a href="/tags/Lombok/" style="font-size: 10.77px;">Lombok</a> <a href="/tags/MSA/" style="font-size: 10px;">MSA</a> <a href="/tags/Mac/" style="font-size: 10px;">Mac</a> <a href="/tags/Machine-learning/" style="font-size: 16.15px;">Machine learning</a> <a href="/tags/Matcher/" style="font-size: 10px;">Matcher</a> <a href="/tags/Maven/" style="font-size: 10px;">Maven</a> <a href="/tags/Memory/" style="font-size: 10px;">Memory</a> <a href="/tags/Message-Queue/" style="font-size: 10px;">Message Queue</a> <a href="/tags/Monitoring/" style="font-size: 10px;">Monitoring</a> <a href="/tags/Mybatis/" style="font-size: 11.54px;">Mybatis</a> <a href="/tags/Mysql/" style="font-size: 10px;">Mysql</a> <a href="/tags/Network/" style="font-size: 14.62px;">Network</a> <a href="/tags/Node/" style="font-size: 11.54px;">Node</a> <a href="/tags/O-O-P/" style="font-size: 10.77px;">O.O.P</a> <a href="/tags/Object/" style="font-size: 10px;">Object</a> <a href="/tags/Observer-Pattern/" style="font-size: 10px;">Observer Pattern</a> <a href="/tags/Operating-System/" style="font-size: 10px;">Operating System</a> <a href="/tags/Oracle/" style="font-size: 10px;">Oracle</a> <a href="/tags/Php/" style="font-size: 12.31px;">Php</a> <a href="/tags/Postgresql/" style="font-size: 10px;">Postgresql</a> <a href="/tags/Process/" style="font-size: 10.77px;">Process</a> <a href="/tags/Python/" style="font-size: 10px;">Python</a> <a href="/tags/RDS/" style="font-size: 10px;">RDS</a> <a href="/tags/RabbitMQ/" style="font-size: 10px;">RabbitMQ</a> <a href="/tags/React/" style="font-size: 13.85px;">React</a> <a href="/tags/React-Mobx/" style="font-size: 10px;">React - Mobx</a> <a href="/tags/Reactor/" style="font-size: 10px;">Reactor</a> <a href="/tags/Recording/" style="font-size: 10px;">Recording</a> <a href="/tags/Redis/" style="font-size: 13.08px;">Redis</a> <a href="/tags/Regression/" style="font-size: 10px;">Regression</a> <a href="/tags/Rest/" style="font-size: 10px;">Rest</a> <a href="/tags/Roofline/" style="font-size: 10px;">Roofline</a> <a href="/tags/STT/" style="font-size: 10px;">STT</a> <a href="/tags/Sentry/" style="font-size: 10px;">Sentry</a> <a href="/tags/Serialize/" style="font-size: 10px;">Serialize</a> <a href="/tags/SfDatePicker/" style="font-size: 10px;">SfDatePicker</a> <a href="/tags/Singleton-Pattern/" style="font-size: 10px;">Singleton Pattern</a> <a href="/tags/Spring/" style="font-size: 20px;">Spring</a> <a href="/tags/Spring-API-Response/" style="font-size: 10px;">Spring - API - Response</a> <a href="/tags/Spring-HttpClient/" style="font-size: 10px;">Spring - HttpClient</a> <a href="/tags/Spring-Batch/" style="font-size: 10px;">Spring Batch</a> <a href="/tags/Spring-Cloud/" style="font-size: 10.77px;">Spring Cloud</a> <a href="/tags/Spring-Security/" style="font-size: 10.77px;">Spring Security</a> <a href="/tags/Stub/" style="font-size: 10px;">Stub</a> <a href="/tags/Swagger/" style="font-size: 10px;">Swagger</a> <a href="/tags/TCP/" style="font-size: 10px;">TCP</a> <a href="/tags/TLS/" style="font-size: 10px;">TLS</a> <a href="/tags/Telnet/" style="font-size: 10px;">Telnet</a> <a href="/tags/Test/" style="font-size: 15.38px;">Test</a> <a href="/tags/Thread/" style="font-size: 10px;">Thread</a> <a href="/tags/Timestamp/" style="font-size: 10px;">Timestamp</a> <a href="/tags/Transaction/" style="font-size: 10px;">Transaction</a> <a href="/tags/Tunning/" style="font-size: 10px;">Tunning</a> <a href="/tags/Typescript/" style="font-size: 10px;">Typescript</a> <a href="/tags/UDP/" style="font-size: 10px;">UDP</a> <a href="/tags/Validation/" style="font-size: 10px;">Validation</a> <a href="/tags/Vue/" style="font-size: 10px;">Vue</a> <a href="/tags/Web/" style="font-size: 10.77px;">Web</a> <a href="/tags/Webapp/" style="font-size: 10px;">Webapp</a> <a href="/tags/Webclient/" style="font-size: 10px;">Webclient</a> <a href="/tags/Webflux/" style="font-size: 10.77px;">Webflux</a> <a href="/tags/Webpack/" style="font-size: 10.77px;">Webpack</a> <a href="/tags/Xml/" style="font-size: 10.77px;">Xml</a> <a href="/tags/interview/" style="font-size: 10px;">interview</a>
        </div>
    </div>


            
                
    <div class="widget-wrap widget-list">
        <h3 class="widget-title">links</h3>
        <div class="widget">
            <ul>
                
                    <li>
                        <a target="_blank" rel="noopener" href="http://hexo.io">Hexo</a>
                    </li>
                
            </ul>
        </div>
    </div>


            
        
    </div>
</aside>

                </div>
            </div>
        </div>
        <footer id="footer">
    <div class="container">
        <div class="container-inner">
            <a id="back-to-top" href="javascript:;"><i class="icon fa fa-angle-up"></i></a>
            <div class="credit">
                <h1 class="logo-wrap">
                    <a href="/" class="logo"></a>
                </h1>
                <p>&copy; 2022 John Doe</p>
                
                <p>Powered by <a href="https://hexo.io/" target="_blank">Hexo</a>. Theme by <a href="https://github.com/ppoffice" target="_blank">PPOffice</a></p>
                
            </div>
            <div class="footer-plugins">
              
    


            </div>
        </div>
    </div>
</footer>

    </div>
    
    
    <script>
    var disqus_shortname = 'hexo-theme-hueman';
    
    
    var disqus_url = 'http://kidongyun.github.io/2020/01/19/2020-1-19-postgresql_typeorm_typescript_graphql/';
    
    (function() {
    var dsq = document.createElement('script');
    dsq.type = 'text/javascript';
    dsq.async = true;
    dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
    </script>





    
        
<script src="/libs/lightgallery/js/lightgallery.min.js"></script>

        
<script src="/libs/lightgallery/js/lg-thumbnail.min.js"></script>

        
<script src="/libs/lightgallery/js/lg-pager.min.js"></script>

        
<script src="/libs/lightgallery/js/lg-autoplay.min.js"></script>

        
<script src="/libs/lightgallery/js/lg-fullscreen.min.js"></script>

        
<script src="/libs/lightgallery/js/lg-zoom.min.js"></script>

        
<script src="/libs/lightgallery/js/lg-hash.min.js"></script>

        
<script src="/libs/lightgallery/js/lg-share.min.js"></script>

        
<script src="/libs/lightgallery/js/lg-video.min.js"></script>

    
    
        
<script src="/libs/justified-gallery/jquery.justifiedGallery.min.js"></script>

    
    

    
    
    



<!-- Custom Scripts -->

<script src="/js/main.js"></script>


<script type="text/x-mathjax-config">
    MathJax.Hub.Config({
        tex2jax: {
            inlineMath: [ ["$","$"], ["\\(","\\)"] ],
            skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code'],
            processEscapes: true
        }
    });
    MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax();
        for (var i = 0; i < all.length; ++i)
            all[i].SourceElement().parentNode.className += ' has-jax';
    });
</script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_CHTML"></script>
</body>
</html>
